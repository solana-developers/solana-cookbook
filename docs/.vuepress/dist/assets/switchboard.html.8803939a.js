import{_ as u,r as p,o as r,c as i,a as n,b as a,w as t,F as k,d as s,e as b}from"./app.55b1b60c.js";const m={},d=n("h1",{id:"switchboard",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#switchboard","aria-hidden":"true"},"#"),s(" Switchboard")],-1),y=n("p",null,"Switchboard\u306F\u3001\u958B\u767A\u8005\u304C\u4FA1\u683C\u30D5\u30A3\u30FC\u30C9\u3001NFT \u6700\u4F4E\u4FA1\u683C\u3001\u30B9\u30DD\u30FC\u30C4\u7D71\u8A08\u3001\u3055\u3089\u306B\u306F\u691C\u8A3C\u53EF\u80FD\u306A\u30E9\u30F3\u30C0\u30E0\u6027\u306A\u3069\u3001\u3055\u307E\u3056\u307E\u306A\u30E6\u30FC\u30B9\u30B1\u30FC\u30B9\u306E\u305F\u3081\u306B\u30C1\u30A7\u30FC\u30F3\u4E0A\u3067\u30C7\u30FC\u30BF\u3092\u8ABF\u9054\u3067\u304D\u308B\u3088\u3046\u306B\u3059\u308B Oracle \u30D7\u30ED\u30C8\u30B3\u30EB\u3067\u3059\u3002 \u4E00\u822C\u7684\u306A\u610F\u5473\u3067\u3001Switchboard\u306F\u30AA\u30D5\u30C1\u30A7\u30FC\u30F3\u306E\u30EA\u30BD\u30FC\u30B9\u3067\u3042\u308A\u3001\u958B\u767A\u8005\u306F\u30C1\u30A7\u30FC\u30F3\u4E0A\u3067\u6574\u5408\u6027\u306E\u9AD8\u3044\u30C7\u30FC\u30BF\u3092\u6A4B\u6E21\u3057\u3057\u3001\u6B21\u4E16\u4EE3\u306E web3\u3068DeFi\u3092\u5F37\u5316\u3059\u308B\u305F\u3081\u306B\u547C\u3073\u51FA\u3059\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002",-1),f=n("h2",{id:"data-feeds",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#data-feeds","aria-hidden":"true"},"#"),s(" Data Feeds")],-1),h=s("Switchboard\u306F "),_=n("strong",null,"@switchboard-xyz/switchboard-v2",-1),w=s(" \u3068\u3057\u3066\u547C\u3073\u51FA\u3055\u308C\u308BJavaScript/TypeScript\u30E9\u30A4\u30D6\u30E9\u30EA\u3067\u3059\u3002\u3053\u306E\u30E9\u30A4\u30D6\u30E9\u30EA\u3092\u4F7F\u7528\u3057\u3066\u3001\u65E2\u5B58\u306E\u30C7\u30FC\u30BF\u30D5\u30A3\u30FC\u30C9\u304B\u3089\u30AA\u30F3\u30C1\u30A7\u30FC\u30F3 \u30C7\u30FC\u30BF\u306B\u30A2\u30AF\u30BB\u30B9\u3057\u305F\u308A\u3001\u72EC\u81EA\u306E\u30AB\u30B9\u30BF\u30E0\u30D5\u30A3\u30FC\u30C9\u3092\u516C\u958B\u3057\u305F\u308A\u3067\u304D\u307E\u3059\u3002\u8A73\u7D30\u306F"),g={href:"https://www.npmjs.com/package/@switchboard-xyz/switchboard-v2",target:"_blank",rel:"noopener noreferrer"},v=s("\u3053\u3061\u3089"),A=n("h3",{id:"\u30A2\u30AF\u3099\u30EA\u30B1\u3099\u30FC\u30BF\u30FC\u30D5\u30A3\u30FC\u30C8\u3099\u304B\u3089\u30C6\u3099\u30FC\u30BF\u3092\u8AAD\u307F\u53D6\u308B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u30A2\u30AF\u3099\u30EA\u30B1\u3099\u30FC\u30BF\u30FC\u30D5\u30A3\u30FC\u30C8\u3099\u304B\u3089\u30C6\u3099\u30FC\u30BF\u3092\u8AAD\u307F\u53D6\u308B","aria-hidden":"true"},"#"),s(" \u30A2\u30B0\u30EA\u30B2\u30FC\u30BF\u30FC\u30D5\u30A3\u30FC\u30C9\u304B\u3089\u30C7\u30FC\u30BF\u3092\u8AAD\u307F\u53D6\u308B")],-1),x=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  clusterApiUrl`),n("span",{class:"token punctuation"},","),s(`
  Connection`),n("span",{class:"token punctuation"},","),s(`
  Keypair`),n("span",{class:"token punctuation"},","),s(`
  PublicKey`),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token constant"},"LAMPORTS_PER_SOL"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"as"),s(" switchboard "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@switchboard-xyz/switchboard-v2"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" payer "),n("span",{class:"token operator"},"="),s(" Keypair"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"generate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" connection "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Connection"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"clusterApiUrl"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" program "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" switchboard"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadSwitchboardProgram"),n("span",{class:"token punctuation"},"("),s(`
    `),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},","),s(`
    connection`),n("span",{class:"token punctuation"},","),s(`
    payer
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" airdropSignature "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"requestAirdrop"),n("span",{class:"token punctuation"},"("),s(`
    payer`),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token constant"},"LAMPORTS_PER_SOL"),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"await"),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"confirmTransaction"),n("span",{class:"token punctuation"},"("),s("airdropSignature"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"here"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" aggregatorAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"switchboard"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"AggregatorAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    program`),n("span",{class:"token operator"},":"),s(" program"),n("span",{class:"token punctuation"},","),s(`
    publicKey`),n("span",{class:"token operator"},":"),s(" aggregatorKey"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" result"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" aggregatorAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getLatestValue"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toNumber"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br")])],-1),R=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"let"),s(" aggregatorKey"),n("span",{class:"token operator"},":"),s(" PublicKey"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" program"),n("span",{class:"token operator"},":"),s(" Program"),n("span",{class:"token operator"},"<"),s("Idl"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" aggregatorAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"switchboard"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"AggregatorAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token operator"},":"),s(" program"),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" aggregatorKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" result"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" aggregatorAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getLatestValue"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br")])],-1),S=n("h3",{id:"\u30A2\u30AF\u3099\u30EA\u30B1\u3099\u30FC\u30BF\u30FC\u30D5\u30A3\u30FC\u30C8\u3099\u3092\u65B0\u898F\u4F5C\u6210\u3059\u308B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u30A2\u30AF\u3099\u30EA\u30B1\u3099\u30FC\u30BF\u30FC\u30D5\u30A3\u30FC\u30C8\u3099\u3092\u65B0\u898F\u4F5C\u6210\u3059\u308B","aria-hidden":"true"},"#"),s(" \u30A2\u30B0\u30EA\u30B2\u30FC\u30BF\u30FC\u30D5\u30A3\u30FC\u30C9\u3092\u65B0\u898F\u4F5C\u6210\u3059\u308B")],-1),q=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"as"),s(" anchor "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@project-OpenBook/anchor"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Keypair "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  AggregatorAccount`),n("span",{class:"token punctuation"},","),s(`
  loadSwitchboardProgram`),n("span",{class:"token punctuation"},","),s(`
  LeaseAccount`),n("span",{class:"token punctuation"},","),s(`
  OracleQueueAccount`),n("span",{class:"token punctuation"},","),s(`
  SwitchboardPermission`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@switchboard-xyz/switchboard-v2"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" payer"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" authority"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// queue authority"),s(`
`),n("span",{class:"token keyword"},"const"),s(" program "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"loadSwitchboardProgram"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"undefined"),n("span",{class:"token punctuation"},","),s(" payer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" queueAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"OracleQueueAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" queuePubkey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// aggregator"),s(`
`),n("span",{class:"token keyword"},"const"),s(" aggregatorAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" AggregatorAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  name`),n("span",{class:"token operator"},":"),s(" Buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"MY SOL/USD Feed"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  batchSize`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
  minRequiredOracleResults`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
  minRequiredJobResults`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
  minUpdateDelaySeconds`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"10"),n("span",{class:"token punctuation"},","),s(`
  queueAccount`),n("span",{class:"token punctuation"},","),s(`
  authority`),n("span",{class:"token operator"},":"),s(" authority"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// permission"),s(`
`),n("span",{class:"token keyword"},"const"),s(" permissionAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" PermissionAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  authority`),n("span",{class:"token operator"},":"),s(" authority"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
  granter`),n("span",{class:"token operator"},":"),s(" queueAccount"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
  grantee`),n("span",{class:"token operator"},":"),s(" aggregatorAccount"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"await"),s(" aggregatorPermission"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  authority`),n("span",{class:"token punctuation"},","),s(`
  permission`),n("span",{class:"token operator"},":"),s(" SwitchboardPermission"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"PERMIT_ORACLE_QUEUE_USAGE"),n("span",{class:"token punctuation"},","),s(`
  enable`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// lease"),s(`
`),n("span",{class:"token keyword"},"const"),s(" leaseContract "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" LeaseAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  loadAmount`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"anchor"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"BN"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  funder`),n("span",{class:"token operator"},":"),s(" tokenAccount"),n("span",{class:"token punctuation"},","),s(`
  funderAuthority`),n("span",{class:"token operator"},":"),s(" authority"),n("span",{class:"token punctuation"},","),s(`
  oracleQueueAccount`),n("span",{class:"token operator"},":"),s(" queueAccount"),n("span",{class:"token punctuation"},","),s(`
  aggregatorAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// job"),s(`
`),n("span",{class:"token keyword"},"const"),s(" tasks"),n("span",{class:"token operator"},":"),s(" OracleJob"),n("span",{class:"token punctuation"},"."),s("Task"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  OracleJob`),n("span",{class:"token punctuation"},"."),s("Task"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    httpTask`),n("span",{class:"token operator"},":"),s(" OracleJob"),n("span",{class:"token punctuation"},"."),s("HttpTask"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      url`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"https://ftx.us/api/markets/SOL_USD"),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  OracleJob`),n("span",{class:"token punctuation"},"."),s("Task"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    jsonParseTask`),n("span",{class:"token operator"},":"),s(" OracleJob"),n("span",{class:"token punctuation"},"."),s("JsonParseTask"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(" path"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"$.result.price"'),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" jobData "),n("span",{class:"token operator"},"="),s(" Buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),s(`
  OracleJob`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"encodeDelimited"),n("span",{class:"token punctuation"},"("),s(`
    OracleJob`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      tasks`),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"finish"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" jobKeypair "),n("span",{class:"token operator"},"="),s(" anchor"),n("span",{class:"token punctuation"},"."),s("web3"),n("span",{class:"token punctuation"},"."),s("Keypair"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"generate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" jobAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" JobAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  data`),n("span",{class:"token operator"},":"),s(" jobData"),n("span",{class:"token punctuation"},","),s(`
  keypair`),n("span",{class:"token operator"},":"),s(" jobKeypair"),n("span",{class:"token punctuation"},","),s(`
  authority`),n("span",{class:"token operator"},":"),s(" authority"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// add job to aggregator"),s(`
`),n("span",{class:"token keyword"},"await"),s(" aggregatorAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"addJob"),n("span",{class:"token punctuation"},"("),s("jobAccount"),n("span",{class:"token punctuation"},","),s(" authority"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br"),n("span",{class:"line-number"},"77"),n("br")])],-1),P=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" queueAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"OracleQueueAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" queuePubkey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" aggregatorAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" AggregatorAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  name`),n("span",{class:"token operator"},":"),s(" Buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"MY SOL/USD Feed"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  batchSize`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
  minRequiredOracleResults`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
  minRequiredJobResults`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
  minUpdateDelaySeconds`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"10"),n("span",{class:"token punctuation"},","),s(`
  queueAccount`),n("span",{class:"token punctuation"},","),s(`
  authority`),n("span",{class:"token operator"},":"),s(" authority"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("aggregatorAccount"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toString"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br")])],-1),K=n("h3",{id:"\u30D5\u309A\u30ED\u30AF\u3099\u30E9\u30E0\u3066\u3099\u30A2\u30AF\u3099\u30EA\u30B1\u3099\u30FC\u30BF\u30FC\u30D5\u30A3\u30FC\u30C8\u3099\u304B\u3089\u30C6\u3099\u30FC\u30BF\u3092\u8AAD\u307F\u53D6\u308B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u30D5\u309A\u30ED\u30AF\u3099\u30E9\u30E0\u3066\u3099\u30A2\u30AF\u3099\u30EA\u30B1\u3099\u30FC\u30BF\u30FC\u30D5\u30A3\u30FC\u30C8\u3099\u304B\u3089\u30C6\u3099\u30FC\u30BF\u3092\u8AAD\u307F\u53D6\u308B","aria-hidden":"true"},"#"),s(" \u30D7\u30ED\u30B0\u30E9\u30E0\u3067\u30A2\u30B0\u30EA\u30B2\u30FC\u30BF\u30FC\u30D5\u30A3\u30FC\u30C9\u304B\u3089\u30C7\u30FC\u30BF\u3092\u8AAD\u307F\u53D6\u308B")],-1),O=s("Switchboard\u306F"),C=n("strong",null,"switchboard_v2",-1),E=s("\u3068\u3044\u3046\u30AF\u30EC\u30FC\u30C8\u3092\u63D0\u4F9B\u3057\u307E\u3059\u3002\u8A73\u7D30\u306B\u3064\u3044\u3066\u306F\u3001"),T={href:"https://docs.rs/switchboard-v2/0.1.10/switchboard_v2/",target:"_blank",rel:"noopener noreferrer"},D=s("\u3053\u3061\u3089"),V=s("\u3092\u3054\u89A7\u304F\u3060\u3055\u3044\u3002"),L=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("anchor_lang"),n("span",{class:"token punctuation"},"::"),s("prelude"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token operator"},"*"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("switchboard_v2"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"AggregatorAccountData"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token macro property"},"declare_id!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"HDa6A4wLjEymb8Cv3UGeGBnFUNCUEMpoiVBbkTKAkfrt"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token attribute attr-name"},"#[program]"),s(`
`),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"mod"),s(),n("span",{class:"token module-declaration namespace"},"get_result"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token keyword"},"super"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token operator"},"*"),n("span",{class:"token punctuation"},";"),s(`
   
    `),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token function-definition function"},"get_result"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Context"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"GetResult"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"->"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token operator"},"<"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" aggregator "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"&"),s("ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("aggregator_feed"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"load"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" val"),n("span",{class:"token punctuation"},":"),n("span",{class:"token keyword"},"f64"),s(),n("span",{class:"token operator"},"="),s(` aggregator
            `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_result"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),s(`
            `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"try_into"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Current feed result is {}!"'),n("span",{class:"token punctuation"},","),s(" val"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
   
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token attribute attr-name"},"#[derive(Accounts)]"),s(`
`),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"struct"),s(),n("span",{class:"token type-definition class-name"},"GetResult"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" authority"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Signer"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token comment"},"/// CHECK: field is unsafe"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" aggregator_feed"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountLoader"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"AggregatorAccountData"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// pass aggregator key"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br")])],-1),I=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"let"),s(" aggregator "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"&"),s("ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("aggregator_feed"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"load"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" val"),n("span",{class:"token punctuation"},":"),n("span",{class:"token keyword"},"f64"),s(),n("span",{class:"token operator"},"="),s(` aggregator
    `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_result"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),s(`
    `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"try_into"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br")])],-1),j=n("h3",{id:"\u30CF\u309A\u30D5\u3099\u30EA\u30C3\u30B7\u30E3\u30FC\u304B\u3089\u30D5\u30A3\u30FC\u30C8\u3099\u3092\u4F5C\u6210\u3059\u308B\u65B9\u6CD5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u30CF\u309A\u30D5\u3099\u30EA\u30C3\u30B7\u30E3\u30FC\u304B\u3089\u30D5\u30A3\u30FC\u30C8\u3099\u3092\u4F5C\u6210\u3059\u308B\u65B9\u6CD5","aria-hidden":"true"},"#"),s(" \u30D1\u30D6\u30EA\u30C3\u30B7\u30E3\u30FC\u304B\u3089\u30D5\u30A3\u30FC\u30C9\u3092\u4F5C\u6210\u3059\u308B\u65B9\u6CD5")],-1),U=s("\u516C\u5F0F\u306E Switchboard \u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u306B\u306F\u3001\u30D1\u30D6\u30EA\u30C3\u30B7\u30E3\u30FC\u304B\u3089\u30D5\u30A3\u30FC\u30C9\u3092\u4F5C\u6210\u3059\u308B\u65B9\u6CD5\u306E\u8A73\u7D30\u306A\u30A6\u30A9\u30FC\u30AF\u30B9\u30EB\u30FC\u304C\u3042\u308A\u307E\u3059\u3002"),z={href:"https://docs.switchboard.xyz/feed/publisher",target:"_blank",rel:"noopener noreferrer"},F=s("\u3053\u3061\u3089"),B=s("\u3092\u30C1\u30A7\u30C3\u30AF\u3057\u3066\u304F\u3060\u3055\u3044\u3002"),N=n("h2",{id:"oracle",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#oracle","aria-hidden":"true"},"#"),s(" Oracle")],-1),J=n("p",null,"Switchboard\u306E\u30E6\u30CB\u30FC\u30AF\u306A\u6A5F\u80FD\u306F\u3001\u72EC\u81EA\u306EOracle\u3092\u4F5C\u6210\u3057\u3066\u30ED\u30FC\u30AB\u30EB\u3067\u5B9F\u884C\u3067\u304D\u308B\u3053\u3068\u3067\u3059\u3002",-1),G=n("h3",{id:"oracle\u3092\u4F5C\u6210",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#oracle\u3092\u4F5C\u6210","aria-hidden":"true"},"#"),s(" Oracle\u3092\u4F5C\u6210")],-1),M=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"as"),s(" anchor "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@project-OpenBook/anchor"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Keypair "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  loadSwitchboardProgram`),n("span",{class:"token punctuation"},","),s(`
  OracleAccount`),n("span",{class:"token punctuation"},","),s(`
  OracleQueueAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@switchboard-xyz/switchboard-v2"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" payer"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" program "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"loadSwitchboardProgram"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"undefined"),n("span",{class:"token punctuation"},","),s(" payer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" queueAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"OracleQueueAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" queuePubkey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Create oracle"),s(`
`),n("span",{class:"token keyword"},"const"),s(" oracleAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" OracleAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  name`),n("span",{class:"token operator"},":"),s(" Buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"My Oracle"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  queueAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br")])],-1),Q=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" queueAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"OracleQueueAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" queuePubkey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Create oracle"),s(`
`),n("span",{class:"token keyword"},"const"),s(" oracleAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" OracleAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  name`),n("span",{class:"token operator"},":"),s(" Buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"My Oracle"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  queueAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br")])],-1),Y=n("h3",{id:"oracle\u3092\u30ED\u30FC\u30AB\u30EB\u3066\u3099\u5B9F\u884C",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#oracle\u3092\u30ED\u30FC\u30AB\u30EB\u3066\u3099\u5B9F\u884C","aria-hidden":"true"},"#"),s(" Oracle\u3092\u30ED\u30FC\u30AB\u30EB\u3067\u5B9F\u884C")],-1),H=n("p",null,"Oracle\u3092\u30ED\u30FC\u30AB\u30EB\u3067\u5B9F\u884C\u3057\u3001\u72EC\u81EA\u306EOracle\u30AD\u30E5\u30FC\u306B\u5272\u308A\u5F53\u3066\u3066\u3001\u30D7\u30ED\u30B0\u30E9\u30E0\u304C\u672C\u756A\u74B0\u5883\u3067\u3069\u306E\u3088\u3046\u306B\u52D5\u4F5C\u3059\u308B\u304B\u3092\u30C6\u30B9\u30C8\u3067\u304D\u307E\u3059\u3002\u30E1\u30A4\u30F3\u30CD\u30C3\u30C8\u306EOracle\u306F\u3001\u76E3\u8996\u6A5F\u80FD\u306E\u30BB\u30C3\u30C8\u3092\u5099\u3048\u305F\u9AD8\u53EF\u7528\u6027\u74B0\u5883\u3067\u5E38\u306B\u5B9F\u884C\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002",-1),W=n("h4",{id:"\u8981\u4EF6",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u8981\u4EF6","aria-hidden":"true"},"#"),s(" \u8981\u4EF6")],-1),$=n("ul",null,[n("li",null,"Docker-compose")],-1),X=s("Oracle Config"),Z=s("\u3067\u74B0\u5883\u5909\u6570\u3092\u4F7F\u7528\u3057\u3066docker-compose.yml\u3092\u4F5C\u6210\u3057\u307E\u3059\u3002"),nn=n("div",{class:"language-yaml ext-yml line-numbers-mode"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"version"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"3.3"'),s(`
`),n("span",{class:"token key atrule"},"services"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token key atrule"},"switchboard"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token key atrule"},"image"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"switchboardlabs/node:dev-v2-5-28-22a"'),s(`
    `),n("span",{class:"token key atrule"},"network_mode"),n("span",{class:"token punctuation"},":"),s(` host
    `),n("span",{class:"token key atrule"},"restart"),n("span",{class:"token punctuation"},":"),s(` always
    `),n("span",{class:"token key atrule"},"environment"),n("span",{class:"token punctuation"},":"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(` LIVE=1
      `),n("span",{class:"token punctuation"},"-"),s(` CLUSTER=devnet
      `),n("span",{class:"token punctuation"},"-"),s(" RPC_URL=$"),n("span",{class:"token punctuation"},"{"),s("RPC_URL"),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(" ORACLE_KEY=$"),n("span",{class:"token punctuation"},"{"),s("ORACLE_KEY"),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(` HEARTBEAT_INTERVAL=15
    `),n("span",{class:"token key atrule"},"volumes"),n("span",{class:"token punctuation"},":"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(" ./configs.json"),n("span",{class:"token punctuation"},":"),s(`/configs.json
`),n("span",{class:"token key atrule"},"secrets"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token key atrule"},"PAYER_SECRETS"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token key atrule"},"file"),n("span",{class:"token punctuation"},":"),s(` /filesystem/path/to/keypair.json
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br")])],-1),sn=n("div",{class:"language-yaml ext-yml line-numbers-mode"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"version"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"3.3"'),s(`
`),n("span",{class:"token key atrule"},"services"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token key atrule"},"switchboard"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token key atrule"},"image"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"switchboardlabs/node:dev-v2-5-28-22a"'),s(`
    `),n("span",{class:"token key atrule"},"network_mode"),n("span",{class:"token punctuation"},":"),s(` host
    `),n("span",{class:"token key atrule"},"restart"),n("span",{class:"token punctuation"},":"),s(` always
    `),n("span",{class:"token key atrule"},"environment"),n("span",{class:"token punctuation"},":"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(` LIVE=1
      `),n("span",{class:"token punctuation"},"-"),s(` CLUSTER=devnet
      `),n("span",{class:"token punctuation"},"-"),s(" RPC_URL=$"),n("span",{class:"token punctuation"},"{"),s("RPC_URL"),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(" ORACLE_KEY=$"),n("span",{class:"token punctuation"},"{"),s("ORACLE_KEY"),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(` HEARTBEAT_INTERVAL=15
    `),n("span",{class:"token key atrule"},"volumes"),n("span",{class:"token punctuation"},":"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(" ./configs.json"),n("span",{class:"token punctuation"},":"),s(`/configs.json
`),n("span",{class:"token key atrule"},"secrets"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token key atrule"},"PAYER_SECRETS"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token key atrule"},"file"),n("span",{class:"token punctuation"},":"),s(` /filesystem/path/to/keypair.json
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br")])],-1),an=b('<p><code>docker-compose up</code>\u3092\u4F7F\u7528\u3057\u3066\u30B3\u30F3\u30C6\u30CA\u3092\u5B9F\u884C\u3057\u307E\u3059\u3002</p><h3 id="oracle-config" tabindex="-1"><a class="header-anchor" href="#oracle-config" aria-hidden="true">#</a> Oracle Config</h3><table><thead><tr><th>Env Variable</th><th>Definition</th></tr></thead><tbody><tr><td>ORACLE_KEY</td><td><b><u>Required</u></b><br><b>Type</b> - Public Key <br><b>Description</b> - Oracle\u30AD\u30E5\u30FC\u3092\u4F7F\u7528\u3059\u308B\u6A29\u9650\u3092\u4ED8\u4E0E\u3055\u308C\u305FOracle\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u516C\u958B\u9375<br></td></tr><tr><td>HEARTBEAT_INTERVAL</td><td><b><u>Optional</u></b><br><b>Type</b> - Number (seconds) <br><b>Default</b> - 30 <br><b>Description</b> - Oracle \u30CF\u30FC\u30C8\u30D3\u30FC\u30C8\u9593\u306E\u79D2\u6570\u3002\u30AD\u30E5\u30FC\u306B\u306F\u3001\u7570\u306A\u308BOracle\u30CF\u30FC\u30C8\u30D3\u30FC\u30C8\u8981\u4EF6\u304C\u3042\u308A\u307E\u3059\u3002\u63A8\u5968\u5024\u306F15\u3067\u3059 </td></tr><tr><td>GCP_CONFIG_BUCKET</td><td><b><u>Optional</u></b><br><b>Type</b> - GCP Resource Path <br><b>Default</b> - \u73FE\u5728\u306E\u4F5C\u696D\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u3067 configs.json \u3092\u63A2\u3057\u307E\u3059\u3002\u898B\u3064\u304B\u3089\u306A\u3044\u5834\u5408\u3001\u69CB\u6210\u306F\u30ED\u30FC\u30C9\u3055\u308C\u307E\u305B\u3093\u3002 <br><b>Description</b> - \u30D7\u30E9\u30A4\u30D9\u30FC\u30C8API\u30A8\u30F3\u30C9\u30DD\u30A4\u30F3\u30C8\u306EAPI\u30AD\u30FC\u3092\u542B\u3080 </td></tr><tr><td>UNWRAP_STAKE_THRESHOLD</td><td><b><u>Optional</u></b><br><b>Type</b> - Number (SOL amount, Ex. 1.55) <br><b>Default</b> - 0, disabled. <br><b>Description</b> - unwrap stake action\u3092\u30C8\u30EA\u30AC\u30FC\u3059\u308B Solana \u306E\u6B8B\u9AD8\u3002Oracle\u306ESolana \u6B8B\u9AD8\u304C\u8A2D\u5B9A\u3055\u308C\u305F\u3057\u304D\u3044\u5024\u3092\u4E0B\u56DE\u308B\u3068\u3001\u30CE\u30FC\u30C9\u306F\u81EA\u52D5\u7684\u306B\u30AA\u30E9\u30AF\u30EB\u306E\u30B9\u30C6\u30FC\u30AD\u30F3\u30B0\u30A6\u30A9\u30EC\u30C3\u30C8\u304B\u3089\u8CC7\u91D1\u3092\u30A2\u30F3\u30E9\u30C3\u30D7\u3057\u3001\u5C11\u306A\u304F\u3068\u30820.1 wSOL \u307E\u305F\u306F\u30AD\u30E5\u30FC\u306E\u6700\u5C0F\u30B9\u30C6\u30FC\u30AF\u8981\u4EF6\u3088\u308A10%\u591A\u3044\u91D1\u984D\u3092\u6B8B\u3057\u307E\u3059\u3002 </td></tr></tbody></table><h2 id="\u691C\u8A3C\u53EF\u80FD\u306A\u78BA\u7387\u95A2\u6570-vrf" tabindex="-1"><a class="header-anchor" href="#\u691C\u8A3C\u53EF\u80FD\u306A\u78BA\u7387\u95A2\u6570-vrf" aria-hidden="true">#</a> \u691C\u8A3C\u53EF\u80FD\u306A\u78BA\u7387\u95A2\u6570(VRF)</h2><p>\u691C\u8A3C\u53EF\u80FD\u306A\u78BA\u7387\u95A2\u6570(Verifiable Random Function/VRF)\u51FA\u529B\u304C\u6B63\u3057\u304F\u8A08\u7B97\u3055\u308C\u305F\u3053\u3068\u3092\u8A3C\u660E\u3059\u308B\u516C\u958B\u9375\u7591\u4F3C\u4E71\u6570\u95A2\u6570\u3067\u3059\u3002</p><h3 id="vrf\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u8AAD\u307F\u53D6\u308A" tabindex="-1"><a class="header-anchor" href="#vrf\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u8AAD\u307F\u53D6\u308A" aria-hidden="true">#</a> VRF\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u8AAD\u307F\u53D6\u308A</h3>',6),tn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"as"),s(" anchor "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@project-OpenBook/anchor"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Keypair "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  loadSwitchboardProgram`),n("span",{class:"token punctuation"},","),s(`
  VrfAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@switchboard-xyz/switchboard-v2"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" payer"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" program "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"loadSwitchboardProgram"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"undefined"),n("span",{class:"token punctuation"},","),s(" payer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" vrfAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"VrfAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" vrfKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrf "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" vrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadData"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("vrf"),n("span",{class:"token punctuation"},"."),s("currentRound"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br")])],-1),en=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" vrfAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"VrfAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" vrfKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrf "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" vrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadData"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("vrf"),n("span",{class:"token punctuation"},"."),s("currentRound"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br")])],-1),on=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("switchboard_v2"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"VrfAccountData"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" vrf "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"VrfAccountData"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),s("vrf_account_info"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" result_buffer "),n("span",{class:"token operator"},"="),s(" vrf"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_result"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"if"),s(" result_buffer "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0u8"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token number"},"32"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"vrf buffer empty"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"let"),s(" value"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token keyword"},"u128"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token namespace"},[s("bytemuck"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"cast_slice"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),s("result_buffer"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},".."),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" result "),n("span",{class:"token operator"},"="),s(" value"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"%"),s(),n("span",{class:"token number"},"256000"),s(),n("span",{class:"token keyword"},"as"),s(),n("span",{class:"token keyword"},"u128"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br")])],-1),cn=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"let"),s(" vrf "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"VrfAccountData"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),s("vrf_account_info"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" result_buffer "),n("span",{class:"token operator"},"="),s(" vrf"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_result"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br")])],-1),pn=n("h3",{id:"vrf\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u4F5C\u6210",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#vrf\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u4F5C\u6210","aria-hidden":"true"},"#"),s(" VRF\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u4F5C\u6210")],-1),ln=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"as"),s(" anchor "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@project-OpenBook/anchor"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Keypair "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  loadSwitchboardProgram`),n("span",{class:"token punctuation"},","),s(`
  OracleQueueAccount`),n("span",{class:"token punctuation"},","),s(`
  PermissionAccount`),n("span",{class:"token punctuation"},","),s(`
  SwitchboardPermission`),n("span",{class:"token punctuation"},","),s(`
  VrfAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@switchboard-xyz/switchboard-v2"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" payer"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" program "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"loadSwitchboardProgram"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"undefined"),n("span",{class:"token punctuation"},","),s(" payer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" queueAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"queueAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(" program"),n("span",{class:"token punctuation"},","),s(" publicKey"),n("span",{class:"token operator"},":"),s(" queueKey "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" queue "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" queueAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadData"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// load client program used for callback"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrfClientProgram "),n("span",{class:"token operator"},"="),s(" anchor"),n("span",{class:"token punctuation"},"."),s(`workspace
  `),n("span",{class:"token punctuation"},"."),s("AnchorVrfParser "),n("span",{class:"token keyword"},"as"),s(" anchor"),n("span",{class:"token punctuation"},"."),s("Program"),n("span",{class:"token operator"},"<"),s("AnchorVrfParser"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrfSecret "),n("span",{class:"token operator"},"="),s(" anchor"),n("span",{class:"token punctuation"},"."),s("web3"),n("span",{class:"token punctuation"},"."),s("Keypair"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"generate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" vrfIxCoder "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"anchor"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"BorshInstructionCoder"),n("span",{class:"token punctuation"},"("),s("vrfClientProgram"),n("span",{class:"token punctuation"},"."),s("idl"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrfClientCallback"),n("span",{class:"token operator"},":"),s(" Callback "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  programId`),n("span",{class:"token operator"},":"),s(" vrfClientProgram"),n("span",{class:"token punctuation"},"."),s("programId"),n("span",{class:"token punctuation"},","),s(`
  accounts`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token comment"},"// ensure all accounts in updateResult are populated"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(" pubkey"),n("span",{class:"token operator"},":"),s(" vrfClientKey"),n("span",{class:"token punctuation"},","),s(" isSigner"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(" isWritable"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"{"),s(" pubkey"),n("span",{class:"token operator"},":"),s(" vrfSecret"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(" isSigner"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(" isWritable"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  ixData`),n("span",{class:"token operator"},":"),s(" vrfIxCoder"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"encode"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"updateResult"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// pass any params for instruction here"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// create VRF"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrfAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" VrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  queue`),n("span",{class:"token operator"},":"),s(" queueAccount"),n("span",{class:"token punctuation"},","),s(`
  callback`),n("span",{class:"token operator"},":"),s(" vrfClientCallback"),n("span",{class:"token punctuation"},","),s(`
  authority`),n("span",{class:"token operator"},":"),s(" vrfClientKey"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// vrf authority"),s(`
  keypair`),n("span",{class:"token operator"},":"),s(" vrfSecret"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// create permission"),s(`
`),n("span",{class:"token keyword"},"const"),s(" permissionAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" PermissionAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  authority`),n("span",{class:"token operator"},":"),s(" queue"),n("span",{class:"token punctuation"},"."),s("authority"),n("span",{class:"token punctuation"},","),s(`
  granter`),n("span",{class:"token operator"},":"),s(" queue"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
  grantee`),n("span",{class:"token operator"},":"),s(" vrfAccount"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// if queue has not enabled unpermissionedVrfEnabled, queue will need to grant permission"),s(`
`),n("span",{class:"token keyword"},"let"),s(" queueAuthority"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"await"),s(" permissionAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  authority`),n("span",{class:"token operator"},":"),s(" queueAuthority"),n("span",{class:"token punctuation"},","),s(`
  permission`),n("span",{class:"token operator"},":"),s(" SwitchboardPermission"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"PERMIT_VRF_REQUESTS"),n("span",{class:"token punctuation"},","),s(`
  enable`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br")])],-1),un=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" vrfAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" VrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  queue`),n("span",{class:"token operator"},":"),s(" queueAccount"),n("span",{class:"token punctuation"},","),s(`
  callback`),n("span",{class:"token operator"},":"),s(" vrfClientCallback"),n("span",{class:"token punctuation"},","),s(`
  authority`),n("span",{class:"token operator"},":"),s(" vrfClientKey"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// vrf authority"),s(`
  keypair`),n("span",{class:"token operator"},":"),s(" vrfSecret"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br")])],-1),rn=n("h3",{id:"vrf\u30A2\u30AB\u30A6\u30F3\u30C8\u304B\u3089randomness\u3092\u8981\u6C42\u3059\u308B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#vrf\u30A2\u30AB\u30A6\u30F3\u30C8\u304B\u3089randomness\u3092\u8981\u6C42\u3059\u308B","aria-hidden":"true"},"#"),s(" VRF\u30A2\u30AB\u30A6\u30F3\u30C8\u304B\u3089Randomness\u3092\u8981\u6C42\u3059\u308B")],-1),kn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"as"),s(" anchor "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@project-OpenBook/anchor"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Keypair "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  loadSwitchboardProgram`),n("span",{class:"token punctuation"},","),s(`
  VrfAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@switchboard-xyz/switchboard-v2"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" payer"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" authority"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" program "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"loadSwitchboardProgram"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"undefined"),n("span",{class:"token punctuation"},","),s(" payer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" vrfAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"VrfAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" vrfKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrf "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" vrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadData"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" queueAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"OracleQueueAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" vrf"),n("span",{class:"token punctuation"},"."),s("queuePubkey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" queue "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" queueAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadData"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" mint "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" queueAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadMint"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" payerTokenWallet "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),s(`
  `),n("span",{class:"token keyword"},"await"),s(" mint"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getOrCreateAssociatedAccountInfo"),n("span",{class:"token punctuation"},"("),s("payer"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("address"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" signature "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" vrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"requestRandomness"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  authority`),n("span",{class:"token punctuation"},","),s(`
  payer`),n("span",{class:"token operator"},":"),s(" payerTokenWallet"),n("span",{class:"token punctuation"},","),s(`
  payerAuthority`),n("span",{class:"token operator"},":"),s(" payer"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br")])],-1),bn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" signature "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" vrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"requestRandomness"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  authority`),n("span",{class:"token punctuation"},","),s(`
  payer`),n("span",{class:"token operator"},":"),s(" payerTokenWallet"),n("span",{class:"token punctuation"},","),s(`
  payerAuthority`),n("span",{class:"token operator"},":"),s(" payer"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br")])],-1),mn=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token keyword"},"crate"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token operator"},"*"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("anchor_lang"),n("span",{class:"token punctuation"},"::"),s("prelude"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token operator"},"*"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("switchboard_v2"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"VrfAccountData"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"VrfRequestRandomness"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("anchor_spl"),n("span",{class:"token punctuation"},"::"),s("token"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Token"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("anchor_lang"),n("span",{class:"token punctuation"},"::"),s("solana_program"),n("span",{class:"token punctuation"},"::")]),s("clock"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token attribute attr-name"},"#[derive(Accounts)]"),s(`
`),n("span",{class:"token attribute attr-name"},"#[instruction(params: RequestResultParams)]"),s(),n("span",{class:"token comment"},"// rpc parameters hint"),s(`
`),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"struct"),s(),n("span",{class:"token type-definition class-name"},"RequestResult"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
    #`),n("span",{class:"token punctuation"},"["),n("span",{class:"token function"},"account"),n("span",{class:"token punctuation"},"("),s(`
        `),n("span",{class:"token keyword"},"mut"),n("span",{class:"token punctuation"},","),s(`
        seeds `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
            `),n("span",{class:"token constant"},"STATE_SEED"),n("span",{class:"token punctuation"},","),s(`
            vrf`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"key"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            authority`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"key"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
        bump `),n("span",{class:"token operator"},"="),s(" state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"load"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},"."),s("bump"),n("span",{class:"token punctuation"},","),s(`
        has_one `),n("span",{class:"token operator"},"="),s(" vrf"),n("span",{class:"token punctuation"},","),s(`
        has_one `),n("span",{class:"token operator"},"="),s(` authority
    `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" state"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountLoader"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"VrfClient"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(signer)]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" authority"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(constraint = switchboard_program.executable == true)]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" switchboard_program"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(mut, constraint = vrf.owner.as_ref() == switchboard_program.key().as_ref())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" vrf"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(mut, constraint = oracle_queue.owner.as_ref() == switchboard_program.key().as_ref())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" oracle_queue"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" queue_authority"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"UncheckedAccount"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(constraint = data_buffer.owner.as_ref() == switchboard_program.key().as_ref())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" data_buffer"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(mut, constraint = permission.owner.as_ref() == switchboard_program.key().as_ref())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" permission"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(mut, constraint = escrow.owner == program_state.key())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" escrow"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Account"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"TokenAccount"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(mut, constraint = payer_wallet.owner == payer_authority.key())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" payer_wallet"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Account"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"TokenAccount"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(signer)]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" payer_authority"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(address = solana_program::sysvar::recent_blockhashes::ID)]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" recent_blockhashes"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(constraint = program_state.owner.as_ref() == switchboard_program.key().as_ref())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" program_state"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(address = anchor_spl::token::ID)]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" token_program"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Program"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Token"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token attribute attr-name"},"#[derive(Clone, AnchorSerialize, AnchorDeserialize)]"),s(`
`),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"struct"),s(),n("span",{class:"token type-definition class-name"},"RequestResultParams"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" permission_bump"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token keyword"},"u8"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" switchboard_state_bump"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token keyword"},"u8"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"impl"),s(),n("span",{class:"token class-name"},"RequestResult"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'_"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token function-definition function"},"validate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},","),s(" _ctx"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token class-name"},"Context"),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"Self"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(" _params"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token class-name"},"RequestResultParams"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"->"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token operator"},"<"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token function-definition function"},"actuate"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token class-name"},"Context"),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"Self"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(" params"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token class-name"},"RequestResultParams"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"->"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token operator"},"<"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" client_state "),n("span",{class:"token operator"},"="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"load"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" bump "),n("span",{class:"token operator"},"="),s(" client_state"),n("span",{class:"token punctuation"},"."),s("bump"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" max_result "),n("span",{class:"token operator"},"="),s(" client_state"),n("span",{class:"token punctuation"},"."),s("max_result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token function"},"drop"),n("span",{class:"token punctuation"},"("),s("client_state"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"let"),s(" switchboard_program "),n("span",{class:"token operator"},"="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("switchboard_program"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"let"),s(" vrf_request_randomness "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"VrfRequestRandomness"),s(),n("span",{class:"token punctuation"},"{"),s(`
            authority`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            vrf`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("vrf"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            oracle_queue`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("oracle_queue"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            queue_authority`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("queue_authority"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            data_buffer`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("data_buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            permission`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("permission"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            escrow`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("escrow"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            payer_wallet`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("payer_wallet"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            payer_authority`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("payer_authority"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            recent_blockhashes`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("recent_blockhashes"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            program_state`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("program_state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            token_program`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("token_program"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"let"),s(" vrf_key "),n("span",{class:"token operator"},"="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("vrf"),n("span",{class:"token punctuation"},"."),s("key"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" authority_key "),n("span",{class:"token operator"},"="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("authority"),n("span",{class:"token punctuation"},"."),s("key"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"bump: {}"'),n("span",{class:"token punctuation"},","),s(" bump"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"authority: {}"'),n("span",{class:"token punctuation"},","),s(" authority_key"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"vrf: {}"'),n("span",{class:"token punctuation"},","),s(" vrf_key"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"let"),s(" state_seeds"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token keyword"},"u8"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),s(`
            `),n("span",{class:"token operator"},"&"),n("span",{class:"token constant"},"STATE_SEED"),n("span",{class:"token punctuation"},","),s(`
            vrf_key`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            authority_key`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),s("bump"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"requesting randomness"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        vrf_request_randomness`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"invoke_signed"),n("span",{class:"token punctuation"},"("),s(`
            switchboard_program`),n("span",{class:"token punctuation"},","),s(`
            params`),n("span",{class:"token punctuation"},"."),s("switchboard_state_bump"),n("span",{class:"token punctuation"},","),s(`
            params`),n("span",{class:"token punctuation"},"."),s("permission_bump"),n("span",{class:"token punctuation"},","),s(`
            state_seeds`),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token macro property"},"emit!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"RequestingRandomness"),n("span",{class:"token punctuation"},"{"),s(`
            vrf_client`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"key"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            max_result`),n("span",{class:"token punctuation"},":"),s(" max_result"),n("span",{class:"token punctuation"},","),s(`
            timestamp`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token namespace"},[s("clock"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Clock"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"get"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s(`unix_timestamp
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"randomness requested successfully"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br"),n("span",{class:"line-number"},"77"),n("br"),n("span",{class:"line-number"},"78"),n("br"),n("span",{class:"line-number"},"79"),n("br"),n("span",{class:"line-number"},"80"),n("br"),n("span",{class:"line-number"},"81"),n("br"),n("span",{class:"line-number"},"82"),n("br"),n("span",{class:"line-number"},"83"),n("br"),n("span",{class:"line-number"},"84"),n("br"),n("span",{class:"line-number"},"85"),n("br"),n("span",{class:"line-number"},"86"),n("br"),n("span",{class:"line-number"},"87"),n("br"),n("span",{class:"line-number"},"88"),n("br"),n("span",{class:"line-number"},"89"),n("br"),n("span",{class:"line-number"},"90"),n("br"),n("span",{class:"line-number"},"91"),n("br"),n("span",{class:"line-number"},"92"),n("br"),n("span",{class:"line-number"},"93"),n("br"),n("span",{class:"line-number"},"94"),n("br"),n("span",{class:"line-number"},"95"),n("br"),n("span",{class:"line-number"},"96"),n("br"),n("span",{class:"line-number"},"97"),n("br"),n("span",{class:"line-number"},"98"),n("br"),n("span",{class:"line-number"},"99"),n("br"),n("span",{class:"line-number"},"100"),n("br"),n("span",{class:"line-number"},"101"),n("br"),n("span",{class:"line-number"},"102"),n("br"),n("span",{class:"line-number"},"103"),n("br"),n("span",{class:"line-number"},"104"),n("br"),n("span",{class:"line-number"},"105"),n("br"),n("span",{class:"line-number"},"106"),n("br"),n("span",{class:"line-number"},"107"),n("br"),n("span",{class:"line-number"},"108"),n("br"),n("span",{class:"line-number"},"109"),n("br"),n("span",{class:"line-number"},"110"),n("br"),n("span",{class:"line-number"},"111"),n("br"),n("span",{class:"line-number"},"112"),n("br"),n("span",{class:"line-number"},"113"),n("br")])],-1),dn=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"let"),s(" vrf_request_randomness "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"VrfRequestRandomness"),s(),n("span",{class:"token punctuation"},"{"),s(`
    authority`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    vrf`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("vrf"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    oracle_queue`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("oracle_queue"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    queue_authority`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("queue_authority"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    data_buffer`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("data_buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    permission`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("permission"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    escrow`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("escrow"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    payer_wallet`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("payer_wallet"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    payer_authority`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("payer_authority"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    recent_blockhashes`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("recent_blockhashes"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    program_state`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("program_state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    token_program`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("token_program"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" vrf_key "),n("span",{class:"token operator"},"="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("vrf"),n("span",{class:"token punctuation"},"."),s("key"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" authority_key "),n("span",{class:"token operator"},"="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("authority"),n("span",{class:"token punctuation"},"."),s("key"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"bump: {}"'),n("span",{class:"token punctuation"},","),s(" bump"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"authority: {}"'),n("span",{class:"token punctuation"},","),s(" authority_key"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"vrf: {}"'),n("span",{class:"token punctuation"},","),s(" vrf_key"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" state_seeds"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token keyword"},"u8"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token operator"},"&"),n("span",{class:"token constant"},"STATE_SEED"),n("span",{class:"token punctuation"},","),s(`
    vrf_key`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    authority_key`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),s("bump"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"requesting randomness"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
vrf_request_randomness`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"invoke_signed"),n("span",{class:"token punctuation"},"("),s(`
    switchboard_program`),n("span",{class:"token punctuation"},","),s(`
    params`),n("span",{class:"token punctuation"},"."),s("switchboard_state_bump"),n("span",{class:"token punctuation"},","),s(`
    params`),n("span",{class:"token punctuation"},"."),s("permission_bump"),n("span",{class:"token punctuation"},","),s(`
    state_seeds`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br")])],-1),yn=n("h2",{id:"\u53C2\u8003\u6587\u732E",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u53C2\u8003\u6587\u732E","aria-hidden":"true"},"#"),s(" \u53C2\u8003\u6587\u732E")],-1),fn=n("h3",{id:"apis-and-libraries",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#apis-and-libraries","aria-hidden":"true"},"#"),s(" APIs and Libraries")],-1),hn={href:"https://docs.switchboard.xyz/api/tasks",target:"_blank",rel:"noopener noreferrer"},_n=s("Switchboard Task Types"),wn={href:"https://docs.rs/switchboard-v2/latest/switchboard_v2/",target:"_blank",rel:"noopener noreferrer"},gn=s("Rust API Docs"),vn={href:"https://docs.switchboard.xyz/api/ts",target:"_blank",rel:"noopener noreferrer"},An=s("Typescript API Docs"),xn={href:"https://docs.switchboard.xyz/api/py",target:"_blank",rel:"noopener noreferrer"},Rn=s("Python API Docs"),Sn={href:"https://docs.switchboard.xyz/api/cli",target:"_blank",rel:"noopener noreferrer"},qn=s("CLI Docs"),Pn=n("h3",{id:"examples",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#examples","aria-hidden":"true"},"#"),s(" Examples")],-1),Kn={href:"https://github.com/switchboard-xyz/switchboard-v2/tree/main/packages/feed-walkthrough",target:"_blank",rel:"noopener noreferrer"},On=s("[Client] Custom Data Feed Walkthrough"),Cn={href:"https://github.com/switchboard-xyz/switchboard-v2/tree/main/programs/anchor-feed-parser",target:"_blank",rel:"noopener noreferrer"},En=s("[Program] Anchor Feed Parser"),Tn={href:"https://github.com/switchboard-xyz/switchboard-v2/tree/main/programs/anchor-vrf-parser",target:"_blank",rel:"noopener noreferrer"},Dn=s("[Program] Anchor VRF Parser"),Vn=n("h3",{id:"more-information",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#more-information","aria-hidden":"true"},"#"),s(" More Information")],-1),Ln={href:"https://docs.switchboard.xyz/introduction",target:"_blank",rel:"noopener noreferrer"},In=s("Protocol Documentation"),jn={href:"https://crawling-cent-d6b.notion.site/The-Switchboard-Deep-Dive-717df6ba0b92465e8118351466257a0f",target:"_blank",rel:"noopener noreferrer"},Un=s("SuperteamDAO Deep Dive");function zn(Fn,Bn){const e=p("ExternalLinkIcon"),o=p("SolanaCodeGroupItem"),c=p("SolanaCodeGroup"),l=p("RouterLink");return r(),i(k,null,[d,y,f,n("p",null,[h,_,w,n("a",g,[v,a(e)])]),A,a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[x]),preview:t(()=>[R]),_:1})]),_:1}),S,a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[q]),preview:t(()=>[P]),_:1})]),_:1}),K,n("p",null,[O,C,E,n("a",T,[D,a(e)]),V]),a(c,null,{default:t(()=>[a(o,{title:"Rust",active:""},{default:t(()=>[L]),preview:t(()=>[I]),_:1})]),_:1}),j,n("p",null,[U,n("a",z,[F,a(e)]),B]),N,J,G,a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[M]),preview:t(()=>[Q]),_:1})]),_:1}),Y,H,W,$,n("p",null,[a(l,{to:"/integrations/switchboard.html#oracle-config"},{default:t(()=>[X]),_:1}),Z]),a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[nn]),preview:t(()=>[sn]),_:1})]),_:1}),an,a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[tn]),preview:t(()=>[en]),_:1}),a(o,{title:"Rust",active:""},{default:t(()=>[on]),preview:t(()=>[cn]),_:1})]),_:1}),pn,a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[ln]),preview:t(()=>[un]),_:1})]),_:1}),rn,a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[kn]),preview:t(()=>[bn]),_:1}),a(o,{title:"Rust",active:""},{default:t(()=>[mn]),preview:t(()=>[dn]),_:1})]),_:1}),yn,fn,n("ul",null,[n("li",null,[n("a",hn,[_n,a(e)])]),n("li",null,[n("a",wn,[gn,a(e)])]),n("li",null,[n("a",vn,[An,a(e)])]),n("li",null,[n("a",xn,[Rn,a(e)])]),n("li",null,[n("a",Sn,[qn,a(e)])])]),Pn,n("ul",null,[n("li",null,[n("a",Kn,[On,a(e)])]),n("li",null,[n("a",Cn,[En,a(e)])]),n("li",null,[n("a",Tn,[Dn,a(e)])])]),Vn,n("ul",null,[n("li",null,[n("a",Ln,[In,a(e)])]),n("li",null,[n("a",jn,[Un,a(e)])])])],64)}var Jn=u(m,[["render",zn]]);export{Jn as default};

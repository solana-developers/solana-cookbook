import{_ as l,r as p,o as r,c as i,a as n,b as a,w as t,F as k,d as s,e as b}from"./app.55b1b60c.js";const m={},d=n("h1",{id:"switchboard",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#switchboard","aria-hidden":"true"},"#"),s(" Switchboard")],-1),y=n("p",null,"Switchboard est un Oracle qui permet aux d\xE9veloppeurs de s'approvisionner en donn\xE9es on-chain pour une vari\xE9t\xE9 de cas d'utilisation tels que l'obtention du prix de jetons, le prix plancher (floor price) de NFTs, les statistiques sportives ou m\xEAme le caract\xE8re v\xE9rifiable du hasard. D'une mani\xE8re g\xE9n\xE9rale, Switchboard est une ressource hors cha\xEEne que les d\xE9veloppeurs peuvent utiliser pour relier des donn\xE9es on-chain de haute qualit\xE9 et alimenter la prochaine g\xE9n\xE9ration du Web3 et de la DeFi.",-1),f=n("h2",{id:"flux-de-donnees",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#flux-de-donnees","aria-hidden":"true"},"#"),s(" Flux de Donn\xE9es")],-1),h=s("Switchboard fournit une biblioth\xE8que JavaScript/TypeScript appel\xE9e "),_=n("strong",null,"@switchboard-xyz/switchboard-v2",-1),g=s(". Cette biblioth\xE8que peut \xEAtre utilis\xE9e pour acc\xE9der aux donn\xE9es On-chain \xE0 partir de flux de donn\xE9es existants ou pour publier vos propres flux personnalis\xE9s. Plus d'informations \xE0 ce sujet "),w={href:"https://www.npmjs.com/package/@switchboard-xyz/switchboard-v2",target:"_blank",rel:"noopener noreferrer"},v=s("ici"),A=n("h3",{id:"lire-les-donnees-d-un-flux-d-agregation",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#lire-les-donnees-d-un-flux-d-agregation","aria-hidden":"true"},"#"),s(" Lire les donn\xE9es d'un flux d'agr\xE9gation")],-1),x=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  clusterApiUrl`),n("span",{class:"token punctuation"},","),s(`
  Connection`),n("span",{class:"token punctuation"},","),s(`
  Keypair`),n("span",{class:"token punctuation"},","),s(`
  PublicKey`),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token constant"},"LAMPORTS_PER_SOL"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"as"),s(" switchboard "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@switchboard-xyz/switchboard-v2"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" payer "),n("span",{class:"token operator"},"="),s(" Keypair"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"generate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" connection "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Connection"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"clusterApiUrl"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" program "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" switchboard"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadSwitchboardProgram"),n("span",{class:"token punctuation"},"("),s(`
    `),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},","),s(`
    connection`),n("span",{class:"token punctuation"},","),s(`
    payer
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" airdropSignature "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"requestAirdrop"),n("span",{class:"token punctuation"},"("),s(`
    payer`),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token constant"},"LAMPORTS_PER_SOL"),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"await"),s(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"confirmTransaction"),n("span",{class:"token punctuation"},"("),s("airdropSignature"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"here"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" aggregatorAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"switchboard"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"AggregatorAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    program`),n("span",{class:"token operator"},":"),s(" program"),n("span",{class:"token punctuation"},","),s(`
    publicKey`),n("span",{class:"token operator"},":"),s(" aggregatorKey"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" result"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" aggregatorAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getLatestValue"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toNumber"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br")])],-1),q=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"let"),s(" aggregatorKey"),n("span",{class:"token operator"},":"),s(" PublicKey"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" program"),n("span",{class:"token operator"},":"),s(" Program"),n("span",{class:"token operator"},"<"),s("Idl"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" aggregatorAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"switchboard"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"AggregatorAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token operator"},":"),s(" program"),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" aggregatorKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" result"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" aggregatorAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getLatestValue"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br")])],-1),R=n("h3",{id:"creer-un-nouveau-flux-d-agregation",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#creer-un-nouveau-flux-d-agregation","aria-hidden":"true"},"#"),s(" Cr\xE9er un nouveau flux d'agr\xE9gation")],-1),S=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"as"),s(" anchor "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@project-serum/anchor"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Keypair "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  AggregatorAccount`),n("span",{class:"token punctuation"},","),s(`
  loadSwitchboardProgram`),n("span",{class:"token punctuation"},","),s(`
  LeaseAccount`),n("span",{class:"token punctuation"},","),s(`
  OracleQueueAccount`),n("span",{class:"token punctuation"},","),s(`
  SwitchboardPermission`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@switchboard-xyz/switchboard-v2"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" payer"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" authority"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// queue authority"),s(`
`),n("span",{class:"token keyword"},"const"),s(" program "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"loadSwitchboardProgram"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"undefined"),n("span",{class:"token punctuation"},","),s(" payer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" queueAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"OracleQueueAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" queuePubkey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// aggregator"),s(`
`),n("span",{class:"token keyword"},"const"),s(" aggregatorAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" AggregatorAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  name`),n("span",{class:"token operator"},":"),s(" Buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"MY SOL/USD Feed"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  batchSize`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
  minRequiredOracleResults`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
  minRequiredJobResults`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
  minUpdateDelaySeconds`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"10"),n("span",{class:"token punctuation"},","),s(`
  queueAccount`),n("span",{class:"token punctuation"},","),s(`
  authority`),n("span",{class:"token operator"},":"),s(" authority"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// permission"),s(`
`),n("span",{class:"token keyword"},"const"),s(" permissionAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" PermissionAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  authority`),n("span",{class:"token operator"},":"),s(" authority"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
  granter`),n("span",{class:"token operator"},":"),s(" queueAccount"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
  grantee`),n("span",{class:"token operator"},":"),s(" aggregatorAccount"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"await"),s(" aggregatorPermission"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  authority`),n("span",{class:"token punctuation"},","),s(`
  permission`),n("span",{class:"token operator"},":"),s(" SwitchboardPermission"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"PERMIT_ORACLE_QUEUE_USAGE"),n("span",{class:"token punctuation"},","),s(`
  enable`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// lease"),s(`
`),n("span",{class:"token keyword"},"const"),s(" leaseContract "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" LeaseAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  loadAmount`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"anchor"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"BN"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  funder`),n("span",{class:"token operator"},":"),s(" tokenAccount"),n("span",{class:"token punctuation"},","),s(`
  funderAuthority`),n("span",{class:"token operator"},":"),s(" authority"),n("span",{class:"token punctuation"},","),s(`
  oracleQueueAccount`),n("span",{class:"token operator"},":"),s(" queueAccount"),n("span",{class:"token punctuation"},","),s(`
  aggregatorAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// job"),s(`
`),n("span",{class:"token keyword"},"const"),s(" tasks"),n("span",{class:"token operator"},":"),s(" OracleJob"),n("span",{class:"token punctuation"},"."),s("Task"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  OracleJob`),n("span",{class:"token punctuation"},"."),s("Task"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    httpTask`),n("span",{class:"token operator"},":"),s(" OracleJob"),n("span",{class:"token punctuation"},"."),s("HttpTask"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      url`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"https://ftx.us/api/markets/SOL_USD"),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  OracleJob`),n("span",{class:"token punctuation"},"."),s("Task"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    jsonParseTask`),n("span",{class:"token operator"},":"),s(" OracleJob"),n("span",{class:"token punctuation"},"."),s("JsonParseTask"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(" path"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"$.result.price"'),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" jobData "),n("span",{class:"token operator"},"="),s(" Buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),s(`
  OracleJob`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"encodeDelimited"),n("span",{class:"token punctuation"},"("),s(`
    OracleJob`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      tasks`),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
  `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"finish"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" jobKeypair "),n("span",{class:"token operator"},"="),s(" anchor"),n("span",{class:"token punctuation"},"."),s("web3"),n("span",{class:"token punctuation"},"."),s("Keypair"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"generate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" jobAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" JobAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  data`),n("span",{class:"token operator"},":"),s(" jobData"),n("span",{class:"token punctuation"},","),s(`
  keypair`),n("span",{class:"token operator"},":"),s(" jobKeypair"),n("span",{class:"token punctuation"},","),s(`
  authority`),n("span",{class:"token operator"},":"),s(" authority"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// add job to aggregator"),s(`
`),n("span",{class:"token keyword"},"await"),s(" aggregatorAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"addJob"),n("span",{class:"token punctuation"},"("),s("jobAccount"),n("span",{class:"token punctuation"},","),s(" authority"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br"),n("span",{class:"line-number"},"77"),n("br")])],-1),P=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" queueAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"OracleQueueAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" queuePubkey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" aggregatorAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" AggregatorAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  name`),n("span",{class:"token operator"},":"),s(" Buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"MY SOL/USD Feed"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  batchSize`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
  minRequiredOracleResults`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
  minRequiredJobResults`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
  minUpdateDelaySeconds`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"10"),n("span",{class:"token punctuation"},","),s(`
  queueAccount`),n("span",{class:"token punctuation"},","),s(`
  authority`),n("span",{class:"token operator"},":"),s(" authority"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("aggregatorAccount"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toString"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br")])],-1),C=n("h3",{id:"lire-les-donnees-d-un-flux-d-agregation-dans-un-programme",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#lire-les-donnees-d-un-flux-d-agregation-dans-un-programme","aria-hidden":"true"},"#"),s(" Lire les donn\xE9es d'un flux d'agr\xE9gation dans un programme")],-1),E=s("Switchboard fournit une crate appel\xE9e "),K=n("strong",null,"switchboard_v2",-1),T=s(". Plus d'informations \xE0 ce sujet "),D={href:"https://docs.rs/switchboard-v2/0.1.10/switchboard_v2/",target:"_blank",rel:"noopener noreferrer"},O=s("ici"),L=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("anchor_lang"),n("span",{class:"token punctuation"},"::"),s("prelude"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token operator"},"*"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("switchboard_v2"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"AggregatorAccountData"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token macro property"},"declare_id!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"HDa6A4wLjEymb8Cv3UGeGBnFUNCUEMpoiVBbkTKAkfrt"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token attribute attr-name"},"#[program]"),s(`
`),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"mod"),s(),n("span",{class:"token module-declaration namespace"},"get_result"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token keyword"},"super"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token operator"},"*"),n("span",{class:"token punctuation"},";"),s(`
   
    `),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token function-definition function"},"get_result"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Context"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"GetResult"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"->"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token operator"},"<"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" aggregator "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"&"),s("ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("aggregator_feed"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"load"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" val"),n("span",{class:"token punctuation"},":"),n("span",{class:"token keyword"},"f64"),s(),n("span",{class:"token operator"},"="),s(` aggregator
            `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_result"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),s(`
            `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"try_into"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Current feed result is {}!"'),n("span",{class:"token punctuation"},","),s(" val"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
   
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token attribute attr-name"},"#[derive(Accounts)]"),s(`
`),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"struct"),s(),n("span",{class:"token type-definition class-name"},"GetResult"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" authority"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Signer"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token comment"},"/// CHECK: field is unsafe"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" aggregator_feed"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountLoader"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"AggregatorAccountData"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// pass aggregator key"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br")])],-1),V=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"let"),s(" aggregator "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"&"),s("ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("aggregator_feed"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"load"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" val"),n("span",{class:"token punctuation"},":"),n("span",{class:"token keyword"},"f64"),s(),n("span",{class:"token operator"},"="),s(` aggregator
    `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_result"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),s(`
    `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"try_into"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br")])],-1),I=n("h3",{id:"comment-creer-un-flux-a-partir-du-publisher",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#comment-creer-un-flux-a-partir-du-publisher","aria-hidden":"true"},"#"),s(" Comment Cr\xE9er un Flux \xE0 partir du Publisher")],-1),j=s("La documentation officielle de Switchboard explique en d\xE9tail comment cr\xE9er un flux \xE0 partir du Publisher. D\xE9couvrez-la "),z={href:"https://docs.switchboard.xyz/feed/publisher",target:"_blank",rel:"noopener noreferrer"},F=s("ici"),U=s("."),B=n("h2",{id:"oracles",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#oracles","aria-hidden":"true"},"#"),s(" Oracles")],-1),N=n("p",null,"La caract\xE9ristique unique de Switchboard est qu'il vous permet de cr\xE9er votre propre oracle et de l'ex\xE9cuter localement.",-1),G=n("h3",{id:"creer-un-oracle",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#creer-un-oracle","aria-hidden":"true"},"#"),s(" Cr\xE9er un oracle")],-1),J=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"as"),s(" anchor "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@project-serum/anchor"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Keypair "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  loadSwitchboardProgram`),n("span",{class:"token punctuation"},","),s(`
  OracleAccount`),n("span",{class:"token punctuation"},","),s(`
  OracleQueueAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@switchboard-xyz/switchboard-v2"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" payer"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" program "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"loadSwitchboardProgram"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"undefined"),n("span",{class:"token punctuation"},","),s(" payer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" queueAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"OracleQueueAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" queuePubkey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Create oracle"),s(`
`),n("span",{class:"token keyword"},"const"),s(" oracleAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" OracleAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  name`),n("span",{class:"token operator"},":"),s(" Buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"My Oracle"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  queueAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br")])],-1),M=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" queueAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"OracleQueueAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" queuePubkey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// Create oracle"),s(`
`),n("span",{class:"token keyword"},"const"),s(" oracleAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" OracleAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  name`),n("span",{class:"token operator"},":"),s(" Buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"My Oracle"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  queueAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br")])],-1),Q=n("h3",{id:"executer-un-oracle-localement",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#executer-un-oracle-localement","aria-hidden":"true"},"#"),s(" Ex\xE9cuter un oracle localement")],-1),H=n("p",null,"Vous pouvez ex\xE9cuter un oracle localement et l'affecter \xE0 votre propre file d'attente d'oracles pour tester comment votre programme peut fonctionner en production. Les oracles du Mainnet doivent toujours \xEAtre ex\xE9cut\xE9s dans des environnements \xE0 haute disponibilit\xE9 avec un certain nombre de fonctionnalit\xE9s de contr\xF4le.",-1),Y=n("h4",{id:"conditions-requises",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#conditions-requises","aria-hidden":"true"},"#"),s(" Conditions Requises")],-1),W=n("ul",null,[n("li",null,"Docker-compose")],-1),$=s("Cr\xE9ez un fichier docker-compose.yml avec les variables d'environnement dans "),X=s("Oracle Config"),Z=n("div",{class:"language-yaml ext-yml line-numbers-mode"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"version"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"3.3"'),s(`
`),n("span",{class:"token key atrule"},"services"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token key atrule"},"switchboard"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token key atrule"},"image"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"switchboardlabs/node:dev-v2-5-28-22a"'),s(`
    `),n("span",{class:"token key atrule"},"network_mode"),n("span",{class:"token punctuation"},":"),s(` host
    `),n("span",{class:"token key atrule"},"restart"),n("span",{class:"token punctuation"},":"),s(` always
    `),n("span",{class:"token key atrule"},"environment"),n("span",{class:"token punctuation"},":"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(` LIVE=1
      `),n("span",{class:"token punctuation"},"-"),s(` CLUSTER=devnet
      `),n("span",{class:"token punctuation"},"-"),s(" RPC_URL=$"),n("span",{class:"token punctuation"},"{"),s("RPC_URL"),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(" ORACLE_KEY=$"),n("span",{class:"token punctuation"},"{"),s("ORACLE_KEY"),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(` HEARTBEAT_INTERVAL=15
    `),n("span",{class:"token key atrule"},"volumes"),n("span",{class:"token punctuation"},":"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(" ./configs.json"),n("span",{class:"token punctuation"},":"),s(`/configs.json
`),n("span",{class:"token key atrule"},"secrets"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token key atrule"},"PAYER_SECRETS"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token key atrule"},"file"),n("span",{class:"token punctuation"},":"),s(` /filesystem/path/to/keypair.json
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br")])],-1),nn=n("div",{class:"language-yaml ext-yml line-numbers-mode"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"version"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"3.3"'),s(`
`),n("span",{class:"token key atrule"},"services"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token key atrule"},"switchboard"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token key atrule"},"image"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"switchboardlabs/node:dev-v2-5-28-22a"'),s(`
    `),n("span",{class:"token key atrule"},"network_mode"),n("span",{class:"token punctuation"},":"),s(` host
    `),n("span",{class:"token key atrule"},"restart"),n("span",{class:"token punctuation"},":"),s(` always
    `),n("span",{class:"token key atrule"},"environment"),n("span",{class:"token punctuation"},":"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(` LIVE=1
      `),n("span",{class:"token punctuation"},"-"),s(` CLUSTER=devnet
      `),n("span",{class:"token punctuation"},"-"),s(" RPC_URL=$"),n("span",{class:"token punctuation"},"{"),s("RPC_URL"),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(" ORACLE_KEY=$"),n("span",{class:"token punctuation"},"{"),s("ORACLE_KEY"),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(` HEARTBEAT_INTERVAL=15
    `),n("span",{class:"token key atrule"},"volumes"),n("span",{class:"token punctuation"},":"),s(`
      `),n("span",{class:"token punctuation"},"-"),s(" ./configs.json"),n("span",{class:"token punctuation"},":"),s(`/configs.json
`),n("span",{class:"token key atrule"},"secrets"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token key atrule"},"PAYER_SECRETS"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token key atrule"},"file"),n("span",{class:"token punctuation"},":"),s(` /filesystem/path/to/keypair.json
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br")])],-1),sn=b('<p>Ex\xE9cutez le conteneur en utilisant <code>docker-compose up</code></p><h3 id="configuration-de-l-oracle" tabindex="-1"><a class="header-anchor" href="#configuration-de-l-oracle" aria-hidden="true">#</a> Configuration de l&#39;Oracle</h3><table><thead><tr><th>Variable Env</th><th>D\xE9finition</th></tr></thead><tbody><tr><td>ORACLE_KEY</td><td><b><u>Obligatoire</u></b><br><b>Type</b> - Cl\xE9 Publique <br><b>Description</b> - Cl\xE9 publique du compte de l&#39;oracle qui a re\xE7u les permissions d&#39;utiliser une file d&#39;attente oracle <br></td></tr><tr><td>HEARTBEAT_INTERVAL</td><td><b><u>Facultatif</u></b><br><b>Type</b> - Nombre (secondes) <br><b>Par D\xE9faut</b> - 30 <br><b>Description</b> - Secondes entre les battements de c\u0153ur de l&#39;oracle. Les files d&#39;attente ont diff\xE9rentes exigences en mati\xE8re de battement de c\u0153ur de l&#39;oracle. La valeur recommand\xE9e est de 15 </td></tr><tr><td>GCP_CONFIG_BUCKET</td><td><b><u>Facultatif</u></b><br><b>Type</b> - GCP Resource Path <br><b>Par D\xE9faut</b> - Recherche le fichier configs.json dans le r\xE9pertoire de travail actuel. Si elle n&#39;est pas trouv\xE9e, aucune configuration n&#39;est charg\xE9e. <br><b>Description</b> - Contient les cl\xE9s API pour les points de terminaison API priv\xE9s </td></tr><tr><td>UNWRAP_STAKE_THRESHOLD</td><td><b><u>Facultatif</u></b><br><b>Type</b> - Nombre (montant de SOL amount, Ex. 1.55) <br><b>Par D\xE9faut</b> - 0, d\xE9sactiv\xE9. <br><b>Description</b> - Le montant de la balance Solana pour d\xE9clencher une action de d\xE9blocage de la mise. Lorsque le solde de Solana d&#39;un oracle tombe sous le seuil fix\xE9, le n\u0153ud d\xE9bloque automatiquement les fonds du portefeuille de staking de l&#39;oracle, laissant au moins 0,1 wSOL ou 10 % de plus que l&#39;exigence de mise minimale de la file. </td></tr></tbody></table><h2 id="fonction-aleatoire-verifiable-vrf" tabindex="-1"><a class="header-anchor" href="#fonction-aleatoire-verifiable-vrf" aria-hidden="true">#</a> Fonction Al\xE9atoire V\xE9rifiable(VRF)</h2><p>Une Fonction Al\xE9atoire V\xE9rifiable (VRF) est une fonction pseudo-al\xE9atoire \xE0 cl\xE9 publique qui fournit des preuves que ses sorties ont \xE9t\xE9 calcul\xE9es correctement.</p><h3 id="lire-un-compte-vrf" tabindex="-1"><a class="header-anchor" href="#lire-un-compte-vrf" aria-hidden="true">#</a> Lire un compte VRF</h3>',6),an=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"as"),s(" anchor "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@project-serum/anchor"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Keypair "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  loadSwitchboardProgram`),n("span",{class:"token punctuation"},","),s(`
  VrfAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@switchboard-xyz/switchboard-v2"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" payer"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" program "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"loadSwitchboardProgram"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"undefined"),n("span",{class:"token punctuation"},","),s(" payer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" vrfAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"VrfAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" vrfKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrf "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" vrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadData"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("vrf"),n("span",{class:"token punctuation"},"."),s("currentRound"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br")])],-1),tn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" vrfAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"VrfAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" vrfKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrf "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" vrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadData"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token builtin"},"console"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("vrf"),n("span",{class:"token punctuation"},"."),s("currentRound"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br")])],-1),en=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("switchboard_v2"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"VrfAccountData"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" vrf "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"VrfAccountData"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),s("vrf_account_info"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" result_buffer "),n("span",{class:"token operator"},"="),s(" vrf"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_result"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"if"),s(" result_buffer "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0u8"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token number"},"32"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"vrf buffer empty"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"let"),s(" value"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token keyword"},"u128"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token namespace"},[s("bytemuck"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"cast_slice"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),s("result_buffer"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},".."),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" result "),n("span",{class:"token operator"},"="),s(" value"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"%"),s(),n("span",{class:"token number"},"256000"),s(),n("span",{class:"token keyword"},"as"),s(),n("span",{class:"token keyword"},"u128"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br")])],-1),on=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"let"),s(" vrf "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"VrfAccountData"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),s("vrf_account_info"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" result_buffer "),n("span",{class:"token operator"},"="),s(" vrf"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get_result"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br")])],-1),cn=n("h3",{id:"creer-un-compte-vrf",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#creer-un-compte-vrf","aria-hidden":"true"},"#"),s(" Cr\xE9er un compte VRF")],-1),pn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"as"),s(" anchor "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@project-serum/anchor"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Keypair "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  loadSwitchboardProgram`),n("span",{class:"token punctuation"},","),s(`
  OracleQueueAccount`),n("span",{class:"token punctuation"},","),s(`
  PermissionAccount`),n("span",{class:"token punctuation"},","),s(`
  SwitchboardPermission`),n("span",{class:"token punctuation"},","),s(`
  VrfAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@switchboard-xyz/switchboard-v2"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" payer"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" program "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"loadSwitchboardProgram"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"undefined"),n("span",{class:"token punctuation"},","),s(" payer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" queueAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"queueAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(" program"),n("span",{class:"token punctuation"},","),s(" publicKey"),n("span",{class:"token operator"},":"),s(" queueKey "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" queue "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" queueAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadData"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// load client program used for callback"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrfClientProgram "),n("span",{class:"token operator"},"="),s(" anchor"),n("span",{class:"token punctuation"},"."),s(`workspace
  `),n("span",{class:"token punctuation"},"."),s("AnchorVrfParser "),n("span",{class:"token keyword"},"as"),s(" anchor"),n("span",{class:"token punctuation"},"."),s("Program"),n("span",{class:"token operator"},"<"),s("AnchorVrfParser"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrfSecret "),n("span",{class:"token operator"},"="),s(" anchor"),n("span",{class:"token punctuation"},"."),s("web3"),n("span",{class:"token punctuation"},"."),s("Keypair"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"generate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" vrfIxCoder "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"anchor"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"BorshInstructionCoder"),n("span",{class:"token punctuation"},"("),s("vrfClientProgram"),n("span",{class:"token punctuation"},"."),s("idl"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrfClientCallback"),n("span",{class:"token operator"},":"),s(" Callback "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  programId`),n("span",{class:"token operator"},":"),s(" vrfClientProgram"),n("span",{class:"token punctuation"},"."),s("programId"),n("span",{class:"token punctuation"},","),s(`
  accounts`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token comment"},"// ensure all accounts in updateResult are populated"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(" pubkey"),n("span",{class:"token operator"},":"),s(" vrfClientKey"),n("span",{class:"token punctuation"},","),s(" isSigner"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(" isWritable"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"{"),s(" pubkey"),n("span",{class:"token operator"},":"),s(" vrfSecret"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(" isSigner"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(" isWritable"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  ixData`),n("span",{class:"token operator"},":"),s(" vrfIxCoder"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"encode"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"updateResult"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// pass any params for instruction here"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// create VRF"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrfAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" VrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  queue`),n("span",{class:"token operator"},":"),s(" queueAccount"),n("span",{class:"token punctuation"},","),s(`
  callback`),n("span",{class:"token operator"},":"),s(" vrfClientCallback"),n("span",{class:"token punctuation"},","),s(`
  authority`),n("span",{class:"token operator"},":"),s(" vrfClientKey"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// vrf authority"),s(`
  keypair`),n("span",{class:"token operator"},":"),s(" vrfSecret"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// create permission"),s(`
`),n("span",{class:"token keyword"},"const"),s(" permissionAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" PermissionAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  authority`),n("span",{class:"token operator"},":"),s(" queue"),n("span",{class:"token punctuation"},"."),s("authority"),n("span",{class:"token punctuation"},","),s(`
  granter`),n("span",{class:"token operator"},":"),s(" queue"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
  grantee`),n("span",{class:"token operator"},":"),s(" vrfAccount"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// if queue has not enabled unpermissionedVrfEnabled, queue will need to grant permission"),s(`
`),n("span",{class:"token keyword"},"let"),s(" queueAuthority"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"await"),s(" permissionAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  authority`),n("span",{class:"token operator"},":"),s(" queueAuthority"),n("span",{class:"token punctuation"},","),s(`
  permission`),n("span",{class:"token operator"},":"),s(" SwitchboardPermission"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"PERMIT_VRF_REQUESTS"),n("span",{class:"token punctuation"},","),s(`
  enable`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br")])],-1),un=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" vrfAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" VrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),s("program"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  queue`),n("span",{class:"token operator"},":"),s(" queueAccount"),n("span",{class:"token punctuation"},","),s(`
  callback`),n("span",{class:"token operator"},":"),s(" vrfClientCallback"),n("span",{class:"token punctuation"},","),s(`
  authority`),n("span",{class:"token operator"},":"),s(" vrfClientKey"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// vrf authority"),s(`
  keypair`),n("span",{class:"token operator"},":"),s(" vrfSecret"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br")])],-1),ln=n("h3",{id:"demande-de-hasard-a-partir-d-un-compte-vrf",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#demande-de-hasard-a-partir-d-un-compte-vrf","aria-hidden":"true"},"#"),s(" Demande de Hasard \xE0 partir d'un compte VRF")],-1),rn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"as"),s(" anchor "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@project-serum/anchor"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Keypair "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@solana/web3.js"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(`
  loadSwitchboardProgram`),n("span",{class:"token punctuation"},","),s(`
  VrfAccount`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@switchboard-xyz/switchboard-v2"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" payer"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" authority"),n("span",{class:"token operator"},":"),s(" Keypair"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" program "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"loadSwitchboardProgram"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"devnet"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"undefined"),n("span",{class:"token punctuation"},","),s(" payer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" vrfAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"VrfAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" vrfKey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" vrf "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" vrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadData"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" queueAccount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"OracleQueueAccount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  program`),n("span",{class:"token punctuation"},","),s(`
  publicKey`),n("span",{class:"token operator"},":"),s(" vrf"),n("span",{class:"token punctuation"},"."),s("queuePubkey"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" queue "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" queueAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadData"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"const"),s(" mint "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" queueAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadMint"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" payerTokenWallet "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),s(`
  `),n("span",{class:"token keyword"},"await"),s(" mint"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getOrCreateAssociatedAccountInfo"),n("span",{class:"token punctuation"},"("),s("payer"),n("span",{class:"token punctuation"},"."),s("publicKey"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("address"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"const"),s(" signature "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" vrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"requestRandomness"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  authority`),n("span",{class:"token punctuation"},","),s(`
  payer`),n("span",{class:"token operator"},":"),s(" payerTokenWallet"),n("span",{class:"token punctuation"},","),s(`
  payerAuthority`),n("span",{class:"token operator"},":"),s(" payer"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br")])],-1),kn=n("div",{class:"language-typescript ext-ts line-numbers-mode"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" signature "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" vrfAccount"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"requestRandomness"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  authority`),n("span",{class:"token punctuation"},","),s(`
  payer`),n("span",{class:"token operator"},":"),s(" payerTokenWallet"),n("span",{class:"token punctuation"},","),s(`
  payerAuthority`),n("span",{class:"token operator"},":"),s(" payer"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br")])],-1),bn=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token keyword"},"crate"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token operator"},"*"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("anchor_lang"),n("span",{class:"token punctuation"},"::"),s("prelude"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token operator"},"*"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("switchboard_v2"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"VrfAccountData"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"VrfRequestRandomness"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("anchor_spl"),n("span",{class:"token punctuation"},"::"),s("token"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Token"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"use"),s(),n("span",{class:"token namespace"},[s("anchor_lang"),n("span",{class:"token punctuation"},"::"),s("solana_program"),n("span",{class:"token punctuation"},"::")]),s("clock"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token attribute attr-name"},"#[derive(Accounts)]"),s(`
`),n("span",{class:"token attribute attr-name"},"#[instruction(params: RequestResultParams)]"),s(),n("span",{class:"token comment"},"// rpc parameters hint"),s(`
`),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"struct"),s(),n("span",{class:"token type-definition class-name"},"RequestResult"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
    #`),n("span",{class:"token punctuation"},"["),n("span",{class:"token function"},"account"),n("span",{class:"token punctuation"},"("),s(`
        `),n("span",{class:"token keyword"},"mut"),n("span",{class:"token punctuation"},","),s(`
        seeds `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
            `),n("span",{class:"token constant"},"STATE_SEED"),n("span",{class:"token punctuation"},","),s(`
            vrf`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"key"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            authority`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"key"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
        bump `),n("span",{class:"token operator"},"="),s(" state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"load"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},"."),s("bump"),n("span",{class:"token punctuation"},","),s(`
        has_one `),n("span",{class:"token operator"},"="),s(" vrf"),n("span",{class:"token punctuation"},","),s(`
        has_one `),n("span",{class:"token operator"},"="),s(` authority
    `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" state"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountLoader"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"VrfClient"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(signer)]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" authority"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(constraint = switchboard_program.executable == true)]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" switchboard_program"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(mut, constraint = vrf.owner.as_ref() == switchboard_program.key().as_ref())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" vrf"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(mut, constraint = oracle_queue.owner.as_ref() == switchboard_program.key().as_ref())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" oracle_queue"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" queue_authority"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"UncheckedAccount"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(constraint = data_buffer.owner.as_ref() == switchboard_program.key().as_ref())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" data_buffer"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(mut, constraint = permission.owner.as_ref() == switchboard_program.key().as_ref())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" permission"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(mut, constraint = escrow.owner == program_state.key())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" escrow"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Account"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"TokenAccount"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(mut, constraint = payer_wallet.owner == payer_authority.key())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" payer_wallet"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Account"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"TokenAccount"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(signer)]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" payer_authority"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(address = solana_program::sysvar::recent_blockhashes::ID)]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" recent_blockhashes"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(constraint = program_state.owner.as_ref() == switchboard_program.key().as_ref())]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" program_state"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"AccountInfo"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token attribute attr-name"},"#[account(address = anchor_spl::token::ID)]"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" token_program"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token class-name"},"Program"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'info"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Token"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token attribute attr-name"},"#[derive(Clone, AnchorSerialize, AnchorDeserialize)]"),s(`
`),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"struct"),s(),n("span",{class:"token type-definition class-name"},"RequestResultParams"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" permission_bump"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token keyword"},"u8"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token keyword"},"pub"),s(" switchboard_state_bump"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token keyword"},"u8"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"impl"),s(),n("span",{class:"token class-name"},"RequestResult"),n("span",{class:"token operator"},"<"),n("span",{class:"token lifetime-annotation symbol"},"'_"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token function-definition function"},"validate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},","),s(" _ctx"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token class-name"},"Context"),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"Self"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(" _params"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token class-name"},"RequestResultParams"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"->"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token operator"},"<"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"pub"),s(),n("span",{class:"token keyword"},"fn"),s(),n("span",{class:"token function-definition function"},"actuate"),n("span",{class:"token punctuation"},"("),s("ctx"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token class-name"},"Context"),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"Self"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),s(" params"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token class-name"},"RequestResultParams"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"->"),s(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token operator"},"<"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" client_state "),n("span",{class:"token operator"},"="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"load"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" bump "),n("span",{class:"token operator"},"="),s(" client_state"),n("span",{class:"token punctuation"},"."),s("bump"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" max_result "),n("span",{class:"token operator"},"="),s(" client_state"),n("span",{class:"token punctuation"},"."),s("max_result"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token function"},"drop"),n("span",{class:"token punctuation"},"("),s("client_state"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"let"),s(" switchboard_program "),n("span",{class:"token operator"},"="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("switchboard_program"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"let"),s(" vrf_request_randomness "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"VrfRequestRandomness"),s(),n("span",{class:"token punctuation"},"{"),s(`
            authority`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            vrf`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("vrf"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            oracle_queue`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("oracle_queue"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            queue_authority`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("queue_authority"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            data_buffer`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("data_buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            permission`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("permission"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            escrow`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("escrow"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            payer_wallet`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("payer_wallet"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            payer_authority`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("payer_authority"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            recent_blockhashes`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("recent_blockhashes"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            program_state`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("program_state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            token_program`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("token_program"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"let"),s(" vrf_key "),n("span",{class:"token operator"},"="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("vrf"),n("span",{class:"token punctuation"},"."),s("key"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"let"),s(" authority_key "),n("span",{class:"token operator"},"="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("authority"),n("span",{class:"token punctuation"},"."),s("key"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"bump: {}"'),n("span",{class:"token punctuation"},","),s(" bump"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"authority: {}"'),n("span",{class:"token punctuation"},","),s(" authority_key"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"vrf: {}"'),n("span",{class:"token punctuation"},","),s(" vrf_key"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"let"),s(" state_seeds"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token keyword"},"u8"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),s(`
            `),n("span",{class:"token operator"},"&"),n("span",{class:"token constant"},"STATE_SEED"),n("span",{class:"token punctuation"},","),s(`
            vrf_key`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            authority_key`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),s("bump"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"requesting randomness"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        vrf_request_randomness`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"invoke_signed"),n("span",{class:"token punctuation"},"("),s(`
            switchboard_program`),n("span",{class:"token punctuation"},","),s(`
            params`),n("span",{class:"token punctuation"},"."),s("switchboard_state_bump"),n("span",{class:"token punctuation"},","),s(`
            params`),n("span",{class:"token punctuation"},"."),s("permission_bump"),n("span",{class:"token punctuation"},","),s(`
            state_seeds`),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token macro property"},"emit!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"RequestingRandomness"),n("span",{class:"token punctuation"},"{"),s(`
            vrf_client`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"key"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            max_result`),n("span",{class:"token punctuation"},":"),s(" max_result"),n("span",{class:"token punctuation"},","),s(`
            timestamp`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token namespace"},[s("clock"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Clock"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"get"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s(`unix_timestamp
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"randomness requested successfully"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br"),n("span",{class:"line-number"},"77"),n("br"),n("span",{class:"line-number"},"78"),n("br"),n("span",{class:"line-number"},"79"),n("br"),n("span",{class:"line-number"},"80"),n("br"),n("span",{class:"line-number"},"81"),n("br"),n("span",{class:"line-number"},"82"),n("br"),n("span",{class:"line-number"},"83"),n("br"),n("span",{class:"line-number"},"84"),n("br"),n("span",{class:"line-number"},"85"),n("br"),n("span",{class:"line-number"},"86"),n("br"),n("span",{class:"line-number"},"87"),n("br"),n("span",{class:"line-number"},"88"),n("br"),n("span",{class:"line-number"},"89"),n("br"),n("span",{class:"line-number"},"90"),n("br"),n("span",{class:"line-number"},"91"),n("br"),n("span",{class:"line-number"},"92"),n("br"),n("span",{class:"line-number"},"93"),n("br"),n("span",{class:"line-number"},"94"),n("br"),n("span",{class:"line-number"},"95"),n("br"),n("span",{class:"line-number"},"96"),n("br"),n("span",{class:"line-number"},"97"),n("br"),n("span",{class:"line-number"},"98"),n("br"),n("span",{class:"line-number"},"99"),n("br"),n("span",{class:"line-number"},"100"),n("br"),n("span",{class:"line-number"},"101"),n("br"),n("span",{class:"line-number"},"102"),n("br"),n("span",{class:"line-number"},"103"),n("br"),n("span",{class:"line-number"},"104"),n("br"),n("span",{class:"line-number"},"105"),n("br"),n("span",{class:"line-number"},"106"),n("br"),n("span",{class:"line-number"},"107"),n("br"),n("span",{class:"line-number"},"108"),n("br"),n("span",{class:"line-number"},"109"),n("br"),n("span",{class:"line-number"},"110"),n("br"),n("span",{class:"line-number"},"111"),n("br"),n("span",{class:"line-number"},"112"),n("br"),n("span",{class:"line-number"},"113"),n("br")])],-1),mn=n("div",{class:"language-rust ext-rs line-numbers-mode"},[n("pre",{class:"language-rust"},[n("code",null,[n("span",{class:"token keyword"},"let"),s(" vrf_request_randomness "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"VrfRequestRandomness"),s(),n("span",{class:"token punctuation"},"{"),s(`
    authority`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    vrf`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("vrf"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    oracle_queue`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("oracle_queue"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    queue_authority`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("queue_authority"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    data_buffer`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("data_buffer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    permission`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("permission"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    escrow`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("escrow"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    payer_wallet`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("payer_wallet"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    payer_authority`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("payer_authority"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    recent_blockhashes`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("recent_blockhashes"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    program_state`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("program_state"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    token_program`),n("span",{class:"token punctuation"},":"),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("token_program"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_account_info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" vrf_key "),n("span",{class:"token operator"},"="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("vrf"),n("span",{class:"token punctuation"},"."),s("key"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"let"),s(" authority_key "),n("span",{class:"token operator"},"="),s(" ctx"),n("span",{class:"token punctuation"},"."),s("accounts"),n("span",{class:"token punctuation"},"."),s("authority"),n("span",{class:"token punctuation"},"."),s("key"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"bump: {}"'),n("span",{class:"token punctuation"},","),s(" bump"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"authority: {}"'),n("span",{class:"token punctuation"},","),s(" authority_key"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"vrf: {}"'),n("span",{class:"token punctuation"},","),s(" vrf_key"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"let"),s(" state_seeds"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token keyword"},"u8"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token operator"},"&"),n("span",{class:"token constant"},"STATE_SEED"),n("span",{class:"token punctuation"},","),s(`
    vrf_key`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    authority_key`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"as_ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token operator"},"&"),n("span",{class:"token punctuation"},"["),s("bump"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token macro property"},"msg!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"requesting randomness"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
vrf_request_randomness`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"invoke_signed"),n("span",{class:"token punctuation"},"("),s(`
    switchboard_program`),n("span",{class:"token punctuation"},","),s(`
    params`),n("span",{class:"token punctuation"},"."),s("switchboard_state_bump"),n("span",{class:"token punctuation"},","),s(`
    params`),n("span",{class:"token punctuation"},"."),s("permission_bump"),n("span",{class:"token punctuation"},","),s(`
    state_seeds`),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br")])],-1),dn=n("h2",{id:"ressources",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ressources","aria-hidden":"true"},"#"),s(" Ressources")],-1),yn=n("h3",{id:"api-et-bibliotheques",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#api-et-bibliotheques","aria-hidden":"true"},"#"),s(" API et Biblioth\xE8ques")],-1),fn={href:"https://docs.switchboard.xyz/api/tasks",target:"_blank",rel:"noopener noreferrer"},hn=s("Types de T\xE2ches de Switchboard"),_n={href:"https://docs.rs/switchboard-v2/latest/switchboard_v2/",target:"_blank",rel:"noopener noreferrer"},gn=s("Documents sur l'API Rust"),wn={href:"https://docs.switchboard.xyz/api/ts",target:"_blank",rel:"noopener noreferrer"},vn=s("Documents sur l'API Typescript"),An={href:"https://docs.switchboard.xyz/api/py",target:"_blank",rel:"noopener noreferrer"},xn=s("Documents sur l'API Python"),qn={href:"https://docs.switchboard.xyz/api/cli",target:"_blank",rel:"noopener noreferrer"},Rn=s("Documents sur le CLI"),Sn=n("h3",{id:"exemples",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#exemples","aria-hidden":"true"},"#"),s(" Exemples")],-1),Pn={href:"https://github.com/switchboard-xyz/switchboard-v2/tree/main/packages/feed-walkthrough",target:"_blank",rel:"noopener noreferrer"},Cn=s("[Client] Visite Guid\xE9e du Flux de Donn\xE9es Personnalis\xE9"),En={href:"https://github.com/switchboard-xyz/switchboard-v2/tree/main/programs/anchor-feed-parser",target:"_blank",rel:"noopener noreferrer"},Kn=s("[Programme] Analyseur de Flux pour Anchor"),Tn={href:"https://github.com/switchboard-xyz/switchboard-v2/tree/main/programs/anchor-vrf-parser",target:"_blank",rel:"noopener noreferrer"},Dn=s("[Programme] Analyseur VRF pour Anchor"),On=n("h3",{id:"plus-d-informations",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#plus-d-informations","aria-hidden":"true"},"#"),s(" Plus d'Informations")],-1),Ln={href:"https://docs.switchboard.xyz/introduction",target:"_blank",rel:"noopener noreferrer"},Vn=s("Documentation du Protocole"),In={href:"https://crawling-cent-d6b.notion.site/The-Switchboard-Deep-Dive-717df6ba0b92465e8118351466257a0f",target:"_blank",rel:"noopener noreferrer"},jn=s("Examen Approfondi de SuperteamDAO");function zn(Fn,Un){const e=p("ExternalLinkIcon"),o=p("SolanaCodeGroupItem"),c=p("SolanaCodeGroup"),u=p("RouterLink");return r(),i(k,null,[d,y,f,n("p",null,[h,_,g,n("a",w,[v,a(e)])]),A,a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[x]),preview:t(()=>[q]),_:1})]),_:1}),R,a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[S]),preview:t(()=>[P]),_:1})]),_:1}),C,n("p",null,[E,K,T,n("a",D,[O,a(e)])]),a(c,null,{default:t(()=>[a(o,{title:"Rust",active:""},{default:t(()=>[L]),preview:t(()=>[V]),_:1})]),_:1}),I,n("p",null,[j,n("a",z,[F,a(e)]),U]),B,N,G,a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[J]),preview:t(()=>[M]),_:1})]),_:1}),Q,H,Y,W,n("p",null,[$,a(u,{to:"/integrations/switchboard.html#configuration-de-l-oracle"},{default:t(()=>[X]),_:1})]),a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[Z]),preview:t(()=>[nn]),_:1})]),_:1}),sn,a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[an]),preview:t(()=>[tn]),_:1}),a(o,{title:"Rust",active:""},{default:t(()=>[en]),preview:t(()=>[on]),_:1})]),_:1}),cn,a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[pn]),preview:t(()=>[un]),_:1})]),_:1}),ln,a(c,null,{default:t(()=>[a(o,{title:"TS",active:""},{default:t(()=>[rn]),preview:t(()=>[kn]),_:1}),a(o,{title:"Rust",active:""},{default:t(()=>[bn]),preview:t(()=>[mn]),_:1})]),_:1}),dn,yn,n("ul",null,[n("li",null,[n("a",fn,[hn,a(e)])]),n("li",null,[n("a",_n,[gn,a(e)])]),n("li",null,[n("a",wn,[vn,a(e)])]),n("li",null,[n("a",An,[xn,a(e)])]),n("li",null,[n("a",qn,[Rn,a(e)])])]),Sn,n("ul",null,[n("li",null,[n("a",Pn,[Cn,a(e)])]),n("li",null,[n("a",En,[Kn,a(e)])]),n("li",null,[n("a",Tn,[Dn,a(e)])])]),On,n("ul",null,[n("li",null,[n("a",Ln,[Vn,a(e)])]),n("li",null,[n("a",In,[jn,a(e)])])])],64)}var Nn=l(m,[["render",zn]]);export{Nn as default};

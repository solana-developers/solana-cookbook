<!DOCTYPE html>
<html lang="fr-FR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="title" content="Solana Cookbook | Utilisation de React Native avec Solana"><meta name="og:title" content="Solana Cookbook | Utilisation de React Native avec Solana"><meta name="description" content="Dans ce tutoriel, vous apprendrez à utiliser Solana dans vos applications React Native."><meta name="og:description" content="Dans ce tutoriel, vous apprendrez à utiliser Solana dans vos applications React Native."><meta name="og:image" content="https://solanacookbook.com/cookbook-sharing-card.png"><meta name="og:image:alt" content="Solana splash card"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@solanacookbook"><meta name="twitter:image" content="https://solanacookbook.com/cookbook-sharing-card.png"><meta name="robots" content="index,follow,noodp"><meta name="googlebot" content="index,follow"><link rel="icon" href="/solana_cookbook_lightmode.svg"><script data-domain="solanacookbook.com" src="https://plausible.io/js/plausible.js"></script><title>React Native | Solana Cookbook</title>
    <link rel="modulepreload" href="/assets/app.55b1b60c.js"><link rel="modulepreload" href="/assets/react-native.html.ee4bb358.js"><link rel="modulepreload" href="/assets/react-native.html.a9b24fee.js">
    <link rel="stylesheet" href="/assets/style.fecd2c41.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/fr/" class=""><!----><span class="site-name can-hide">Solana Cookbook</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/solana-developers/solana-cookbook" rel="noopener noreferrer" target="_blank" aria-label="Contribuer"><!--[--><!--]--> Contribuer <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/fr/integrations" class="router-link-active" aria-label="Intégrations"><!--[--><!--]--> Intégrations <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/integrations/react-native.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/zh/" class="" aria-label="中文"><!--[--><!--]--> 中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/es/" class="" aria-label="Spanish"><!--[--><!--]--> Spanish <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/de/integrations/react-native.html" class="" aria-label="Deutsch"><!--[--><!--]--> Deutsch <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vi/integrations/react-native.html" class="" aria-label="Tiếng Việt"><!--[--><!--]--> Tiếng Việt <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/th/integrations/react-native.html" class="" aria-label="ไทย"><!--[--><!--]--> ไทย <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/fr/integrations/react-native.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Français"><!--[--><!--]--> Français <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/id/integrations/react-native.html" class="" aria-label="Bahasa Indonesia"><!--[--><!--]--> Bahasa Indonesia <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/kr/" class="" aria-label="한국어"><!--[--><!--]--> 한국어 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tr/" class="" aria-label="Türkçe"><!--[--><!--]--> Türkçe <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ja/integrations/react-native.html" class="" aria-label="日本語"><!--[--><!--]--> 日本語 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/solana-developers/solana-cookbook" rel="noopener noreferrer" target="_blank" aria-label="Contribuer"><!--[--><!--]--> Contribuer <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/fr/integrations" class="router-link-active" aria-label="Intégrations"><!--[--><!--]--> Intégrations <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/integrations/react-native.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/zh/" class="" aria-label="中文"><!--[--><!--]--> 中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/es/" class="" aria-label="Spanish"><!--[--><!--]--> Spanish <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/de/integrations/react-native.html" class="" aria-label="Deutsch"><!--[--><!--]--> Deutsch <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vi/integrations/react-native.html" class="" aria-label="Tiếng Việt"><!--[--><!--]--> Tiếng Việt <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/th/integrations/react-native.html" class="" aria-label="ไทย"><!--[--><!--]--> ไทย <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/fr/integrations/react-native.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Français"><!--[--><!--]--> Français <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/id/integrations/react-native.html" class="" aria-label="Bahasa Indonesia"><!--[--><!--]--> Bahasa Indonesia <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/kr/" class="" aria-label="한국어"><!--[--><!--]--> 한국어 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tr/" class="" aria-label="Türkçe"><!--[--><!--]--> Türkçe <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ja/integrations/react-native.html" class="" aria-label="日本語"><!--[--><!--]--> 日本語 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Intégrations <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/fr/integrations" class="router-link-active sidebar-item" aria-label="Pour Commencer"><!--[--><!--]--> Pour Commencer <!--[--><!--]--></a><!----></li><li><a href="/fr/integrations/OpenBook.html" class="sidebar-item" aria-label="OpenBook"><!--[--><!--]--> OpenBook <!--[--><!--]--></a><!----></li><li><a href="/fr/integrations/pyth.html" class="sidebar-item" aria-label="Pyth"><!--[--><!--]--> Pyth <!--[--><!--]--></a><!----></li><li><a href="/fr/integrations/switchboard.html" class="sidebar-item" aria-label="Switchboard"><!--[--><!--]--> Switchboard <!--[--><!--]--></a><!----></li><li><a href="/fr/integrations/mango.html" class="sidebar-item" aria-label="Mango Markets"><!--[--><!--]--> Mango Markets <!--[--><!--]--></a><!----></li><li><a href="/fr/integrations/strata.html" class="sidebar-item" aria-label="Strata"><!--[--><!--]--> Strata <!--[--><!--]--></a><!----></li><li><a href="/fr/integrations/web3auth.html" class="sidebar-item" aria-label="web3Auth (Torus Wallet)"><!--[--><!--]--> web3Auth (Torus Wallet) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fr/integrations/react-native.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="React Native"><!--[--><!--]--> React Native <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/fr/integrations/react-native.html#comment-utiliser-solana-web3-js-dans-une-application-react-native" class="router-link-active router-link-exact-active sidebar-item" aria-label="Comment utiliser @solana/web3.js dans une application React Native"><!--[--><!--]--> Comment utiliser @solana/web3.js dans une application React Native <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/fr/integrations/react-native.html#creer-une-nouvelle-application" class="router-link-active router-link-exact-active sidebar-item" aria-label="Créer une nouvelle application"><!--[--><!--]--> Créer une nouvelle application <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fr/integrations/react-native.html#installer-les-dependances" class="router-link-active router-link-exact-active sidebar-item" aria-label="Installer les dépendances"><!--[--><!--]--> Installer les dépendances <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fr/integrations/react-native.html#corriger-babel-pour-utiliser-les-transformations-hermes" class="router-link-active router-link-exact-active sidebar-item" aria-label="Corriger Babel pour utiliser les transformations Hermes"><!--[--><!--]--> Corriger Babel pour utiliser les transformations Hermes <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fr/integrations/react-native.html#mettre-a-jour-index-js" class="router-link-active router-link-exact-active sidebar-item" aria-label="Mettre à jour index.js"><!--[--><!--]--> Mettre à jour index.js <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fr/integrations/react-native.html#mettre-a-jour-app-tsx" class="router-link-active router-link-exact-active sidebar-item" aria-label="Mettre à jour App.tsx"><!--[--><!--]--> Mettre à jour App.tsx <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fr/integrations/react-native.html#ios-uniquement-installer-cocoapods" class="router-link-active router-link-exact-active sidebar-item" aria-label="[iOS uniquement] Installer cocoapods"><!--[--><!--]--> [iOS uniquement] Installer cocoapods <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fr/integrations/react-native.html#demarrer-l-application" class="router-link-active router-link-exact-active sidebar-item" aria-label="Démarrer l&#39;application"><!--[--><!--]--> Démarrer l&#39;application <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/fr/integrations/react-native.html#solana-dapp-scaffold-for-react-native" class="router-link-active router-link-exact-active sidebar-item" aria-label="Solana DApp Scaffold for React Native"><!--[--><!--]--> Solana DApp Scaffold for React Native <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fr/integrations/react-native.html#problemes-courants-lors-de-l-utilisation-de-bibliotheques-crypto-dans-une-application-react-native" class="router-link-active router-link-exact-active sidebar-item" aria-label="Problèmes courants lors de l&#39;utilisation de bibliothèques crypto dans une application React Native"><!--[--><!--]--> Problèmes courants lors de l&#39;utilisation de bibliothèques crypto dans une application React Native <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/fr/integrations/react-native.html#erreur-watchman-crawl-failed" class="router-link-active router-link-exact-active sidebar-item" aria-label="Erreur: Watchman crawl failed"><!--[--><!--]--> Erreur: Watchman crawl failed <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fr/integrations/react-native.html#erreur-url-protocol-is-not-implemented" class="router-link-active router-link-exact-active sidebar-item" aria-label="Erreur: URL.protocol is not implemented"><!--[--><!--]--> Erreur: URL.protocol is not implemented <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/fr/integrations/react-native.html#erreur-crypto-getrandomvalues-not-supported" class="router-link-active router-link-exact-active sidebar-item" aria-label="Erreur: crypto.getRandomValues() not supported"><!--[--><!--]--> Erreur: crypto.getRandomValues() not supported <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><li><a href="/fr/integrations/jupiter.html" class="sidebar-item" aria-label="Jupiter"><!--[--><!--]--> Jupiter <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="react-native-et-solana" tabindex="-1"><a class="header-anchor" href="#react-native-et-solana" aria-hidden="true">#</a> React Native et Solana</h1><p>React Native est un framework UI open-source utilisé pour développer des applications mobiles, web et de bureau permettant aux développeurs d&#39;utiliser le framework React avec les fonctionnalités natives de ces plateformes. Grâce à Solana SDK, il s&#39;agit d&#39;une excellente plateforme pour créer rapidement des applications Crypto natives performantes.</p><p>La façon la plus rapide de commencer avec React Native et Solana est d&#39;utiliser le <a href="#solana-dapp-scaffold-for-react-native">Solana DApp Scaffold for React Native</a>.</p><h2 id="comment-utiliser-solana-web3-js-dans-une-application-react-native" tabindex="-1"><a class="header-anchor" href="#comment-utiliser-solana-web3-js-dans-une-application-react-native" aria-hidden="true">#</a> Comment utiliser @solana/web3.js dans une application React Native</h2><p>Dans ce tutoriel, vous apprendrez à créer une nouvelle application React Native et à installer et configurer le SDK <code>@solana/web3.js</code>, ainsi que ses dépendances.</p><p>Si vous avez déjà une application existante, passez directement à l&#39;<a href="#installer-les-d%C3%A9pendances">installation des dépendances</a>.</p><h3 id="creer-une-nouvelle-application" tabindex="-1"><a class="header-anchor" href="#creer-une-nouvelle-application" aria-hidden="true">#</a> Créer une nouvelle application</h3><p>Nous démarrons une nouvelle application React Native qui utilise TypeScript, puis exécutons la commande <code>cd</code> vers le répertoire du projet où nous allons exécuter le reste des commandes.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx react-native@0.70.0 init SolanaReactNative --template react-native-template-typescript
<span class="token builtin class-name">cd</span> SolanaReactNative
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="installer-les-dependances" tabindex="-1"><a class="header-anchor" href="#installer-les-dependances" aria-hidden="true">#</a> Installer les dépendances</h3><p>Ensuite, nous installons les dépendances. À savoir, le SDK JavaScript de Solana, un paquet pour corriger le système de compilation de React Native (Metro), un générateur de nombres aléatoires sécurisé, et un correctif pour corriger la classe <code>URL</code> manquante de React Native.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> <span class="token punctuation">\</span>
  @solana/web3.js <span class="token punctuation">\</span>
  react-native-get-random-values <span class="token punctuation">\</span>
  react-native-url-polyfill
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="corriger-babel-pour-utiliser-les-transformations-hermes" tabindex="-1"><a class="header-anchor" href="#corriger-babel-pour-utiliser-les-transformations-hermes" aria-hidden="true">#</a> Corriger Babel pour utiliser les transformations Hermes</h3><p>Depuis août 2022, le template à partir duquel les nouvelles applications React Native sont réalisées active par défaut le moteur JavaScript Hermes mais pas les transformations de code Hermes. Activez-les en apportant la modification suivante à <code>babel.config.js</code> :</p><div class="language-diff ext-diff line-numbers-mode"><pre class="language-diff"><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> module.exports = {
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">   presets: [&#39;module:metro-react-native-babel-preset&#39;],
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   presets: [
</span><span class="token prefix inserted">+</span><span class="token line">     [
</span><span class="token prefix inserted">+</span><span class="token line">       &#39;module:metro-react-native-babel-preset&#39;,
</span><span class="token prefix inserted">+</span><span class="token line">       {unstable_transformProfile: &#39;hermes-stable&#39;},
</span><span class="token prefix inserted">+</span><span class="token line">     ],
</span><span class="token prefix inserted">+</span><span class="token line">   ],
</span></span>};
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="mettre-a-jour-index-js" tabindex="-1"><a class="header-anchor" href="#mettre-a-jour-index-js" aria-hidden="true">#</a> Mettre à jour <code>index.js</code></h3><p>Pour charger les polyfills, nous ouvrons le fichier <code>index.js</code> à la racine du projet et ajoutons les deux lignes suivantes au début de celui-ci :</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&#39;react-native-get-random-values&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;react-native-url-polyfill/auto&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="mettre-a-jour-app-tsx" tabindex="-1"><a class="header-anchor" href="#mettre-a-jour-app-tsx" aria-hidden="true">#</a> Mettre à jour <code>App.tsx</code></h3><p>Ajoutons un exemple de web3.js dans notre application !</p><p>Ouvrez le fichier <code>App.tsx</code> et ajoutez le code suivant à l&#39;intérieur de la fonction <code>App</code> :</p><p>Dans cet exemple, nous établissons une connexion au Devnet de Solana. Lorsque les composants se chargent, nous récupérons la version du cluster auquel nous nous sommes connectés et la stockons dans l&#39;état du composant.</p><p>De plus, cet exemple montre comment générer et stocker une paire de clés.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>keypair<span class="token punctuation">,</span> setKeypair<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span>Keypair<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Keypair<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">randomKeypair</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setKeypair</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Keypair<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>version<span class="token punctuation">,</span> setVersion<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> conn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Connection</span><span class="token punctuation">(</span><span class="token function">clusterApiUrl</span><span class="token punctuation">(</span><span class="token string">&#39;devnet&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  conn<span class="token punctuation">.</span><span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>r <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setVersion</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Enfin, dans le modèle (ou <code>render function</code>), ajoutez le balisage suivant :</p><div class="language-tsx ext-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token punctuation">{</span>version <span class="token operator">?</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Section</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Version<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>version<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Section</span></span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span>keypair <span class="token operator">?</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Section</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Keypair<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>keypair<span class="token operator">?.</span>publicKey<span class="token operator">?.</span><span class="token function">toBase58</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Section</span></span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>New Keypair<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onPress</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>randomKeypair<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="ios-uniquement-installer-cocoapods" tabindex="-1"><a class="header-anchor" href="#ios-uniquement-installer-cocoapods" aria-hidden="true">#</a> [iOS uniquement] Installer cocoapods</h3><p>Pour que nos polyfills soient autolinkés sur iOS, nous devons installer <code>cocoapods</code>.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ios <span class="token operator">&amp;&amp;</span> pod <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="demarrer-l-application" tabindex="-1"><a class="header-anchor" href="#demarrer-l-application" aria-hidden="true">#</a> Démarrer l&#39;application</h3><p>Une fois que nous avons terminé tout ce qui précède, nous pouvons démarrer notre application dans le simulateur Android ou iOS.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> android
<span class="token function">yarn</span> ios
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Si tout s&#39;est bien passé, vous devriez voir démarrer dans votre simulateur une application React Native qui récupère la version du Devnet de Solana.</p><h2 id="solana-dapp-scaffold-for-react-native" tabindex="-1"><a class="header-anchor" href="#solana-dapp-scaffold-for-react-native" aria-hidden="true">#</a> Solana DApp Scaffold for React Native</h2><p>Si vous souhaitez vous lancer dans l&#39;aventure, vous pouvez télécharger l&#39;application <a href="https://github.com/solana-developers/dapp-scaffold-react-native" target="_blank" rel="noopener noreferrer">Solana DApp Scaffold for React Native<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><h2 id="problemes-courants-lors-de-l-utilisation-de-bibliotheques-crypto-dans-une-application-react-native" tabindex="-1"><a class="header-anchor" href="#problemes-courants-lors-de-l-utilisation-de-bibliotheques-crypto-dans-une-application-react-native" aria-hidden="true">#</a> Problèmes courants lors de l&#39;utilisation de bibliothèques crypto dans une application React Native</h2><h3 id="erreur-watchman-crawl-failed" tabindex="-1"><a class="header-anchor" href="#erreur-watchman-crawl-failed" aria-hidden="true">#</a> Erreur: <code>Watchman crawl failed</code></h3><p>La partie du système de compilation qui surveille les changements dans votre système de fichiers s&#39;appelle Watchman. Certaines versions de Mac OS <a href="https://github.com/facebook/watchman/issues/751" target="_blank" rel="noopener noreferrer">refusent<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> d&#39;accorder au Watchman la permission de surveiller certains répertoires, comme <code>~/Documents/</code> et <code>~/Desktop/</code>.</p><p>Vous saurez que vous avez ce problème si le bundler Metro produit <a href="https://gist.github.com/steveluscher/d0ae13225b57bc59dc0eac871509dcd7" target="_blank" rel="noopener noreferrer">une erreur<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> contenant les mots “Watchman crawl failed.”</p><p>Pour résoudre ce problème, déplacez votre projet React Native à la racine de votre répertoire utilisateur.</p><h3 id="erreur-url-protocol-is-not-implemented" tabindex="-1"><a class="header-anchor" href="#erreur-url-protocol-is-not-implemented" aria-hidden="true">#</a> Erreur: URL.protocol is not implemented</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ERROR Error: URL.protocol is not implemented
ERROR Invariant Violation: Module AppRegistry is not a registered callable module <span class="token punctuation">(</span>calling runApplication<span class="token punctuation">)</span>. A frequent cause of the error is that the application entry <span class="token function">file</span> path is incorrect. This can also happen when the JS bundle is corrupt or there is an early initialization error when loading React Native.
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Ce problème peut être résolu en utilisant un polyfill pour l&#39;objet <code>URL</code> dans React Native.</p><p>Installez le paquet <code>react-native-url-polyfill</code> et importez-le dans le fichier principal de votre application (ex : <code>index.js</code>), comme indiqué ci-dessus.</p><h3 id="erreur-crypto-getrandomvalues-not-supported" tabindex="-1"><a class="header-anchor" href="#erreur-crypto-getrandomvalues-not-supported" aria-hidden="true">#</a> Erreur: crypto.getRandomValues() not supported</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Error: crypto.getRandomValues<span class="token punctuation">(</span><span class="token punctuation">)</span> not supported. See https://github.com/uuidjs/uuid<span class="token comment">#getrandomvalues-not-supported</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Ce problème peut être résolu en utilisant un polyfill pour l&#39;objet <code>crypto</code> dans React Native.</p><p>Installez le paquet <code>react-native-get-random-values</code> et importez-le dans le fichier principal de votre application (ex : <code>index.js</code>), comme indiqué ci-dessus.</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 35653371+cryptoloutre@users.noreply.github.com">cryptoloutre</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/fr/integrations/web3auth.html" class="" aria-label="web3Auth (Torus Wallet)"><!--[--><!--]--> web3Auth (Torus Wallet) <!--[--><!--]--></a></span><span class="next"><a href="/fr/integrations/jupiter.html" class="" aria-label="Jupiter"><!--[--><!--]--> Jupiter <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.55b1b60c.js" defer></script>
  </body>
</html>
